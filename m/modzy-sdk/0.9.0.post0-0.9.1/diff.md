# Comparing `tmp/modzy_sdk-0.9.0.post0-py2.py3-none-any.whl.zip` & `tmp/modzy_sdk-0.9.1-py2.py3-none-any.whl.zip`

## zipinfo {}

```diff
@@ -1,16 +1,16 @@
-Zip file size: 79296 bytes, number of entries: 49
+Zip file size: 79846 bytes, number of entries: 49
 -rw-rw-rw-  2.0 fat      241 b- defN 22-Aug-16 16:31 modzy/__init__.py
 -rw-rw-rw-  2.0 fat     2092 b- defN 22-Aug-01 17:22 modzy/_api_object.py
 -rw-rw-rw-  2.0 fat      751 b- defN 22-Aug-01 17:22 modzy/_size.py
 -rw-rw-rw-  2.0 fat     7839 b- defN 22-Aug-16 16:31 modzy/_util.py
 -rw-rw-rw-  2.0 fat     3068 b- defN 22-Aug-01 17:22 modzy/client.py
 -rw-rw-rw-  2.0 fat     4813 b- defN 22-Aug-01 17:22 modzy/error.py
 -rw-rw-rw-  2.0 fat     6749 b- defN 22-Aug-16 16:31 modzy/http.py
--rw-rw-rw-  2.0 fat    35317 b- defN 22-Sep-14 21:40 modzy/jobs.py
+-rw-rw-rw-  2.0 fat    37494 b- defN 22-Sep-21 19:29 modzy/jobs.py
 -rw-rw-rw-  2.0 fat    31709 b- defN 22-Aug-16 16:31 modzy/models.py
 -rw-rw-rw-  2.0 fat     9345 b- defN 22-Aug-01 17:22 modzy/results.py
 -rw-rw-rw-  2.0 fat     3627 b- defN 22-Aug-01 17:22 modzy/tags.py
 -rw-rw-rw-  2.0 fat        0 b- defN 22-Aug-01 17:22 modzy/edge/__init__.py
 -rw-rw-rw-  2.0 fat    13126 b- defN 22-Aug-01 17:22 modzy/edge/client.py
 -rw-rw-rw-  2.0 fat        0 b- defN 22-Aug-01 17:22 modzy/edge/proto/__init__.py
 -rw-rw-rw-  2.0 fat        0 b- defN 22-Aug-01 17:22 modzy/edge/proto/common/__init__.py
@@ -39,13 +39,13 @@
 -rw-rw-rw-  2.0 fat     4061 b- defN 22-Aug-01 17:22 samples/model_sample.py
 -rw-rw-rw-  2.0 fat        0 b- defN 22-Aug-01 17:22 tests/__init__.py
 -rw-rw-rw-  2.0 fat      270 b- defN 22-Aug-01 17:22 tests/test_client.py
 -rw-rw-rw-  2.0 fat     5964 b- defN 22-Aug-01 17:22 tests/test_jobs.py
 -rw-rw-rw-  2.0 fat     4749 b- defN 22-Aug-01 17:22 tests/test_models.py
 -rw-rw-rw-  2.0 fat     1187 b- defN 22-Aug-01 17:22 tests/test_results.py
 -rw-rw-rw-  2.0 fat     2302 b- defN 22-Aug-01 17:22 tests/test_tags.py
--rw-rw-rw-  2.0 fat    11558 b- defN 22-Sep-15 02:01 modzy_sdk-0.9.0.post0.dist-info/LICENSE
--rw-rw-rw-  2.0 fat    15333 b- defN 22-Sep-15 02:01 modzy_sdk-0.9.0.post0.dist-info/METADATA
--rw-rw-rw-  2.0 fat      110 b- defN 22-Sep-15 02:01 modzy_sdk-0.9.0.post0.dist-info/WHEEL
--rw-rw-rw-  2.0 fat       20 b- defN 22-Sep-15 02:01 modzy_sdk-0.9.0.post0.dist-info/top_level.txt
-?rw-rw-r--  2.0 fat     4278 b- defN 22-Sep-15 02:01 modzy_sdk-0.9.0.post0.dist-info/RECORD
-49 files, 389250 bytes uncompressed, 72402 bytes compressed:  81.4%
+-rw-rw-rw-  2.0 fat    11558 b- defN 22-Sep-21 19:53 modzy_sdk-0.9.1.dist-info/LICENSE
+-rw-rw-rw-  2.0 fat    15348 b- defN 22-Sep-21 19:53 modzy_sdk-0.9.1.dist-info/METADATA
+-rw-rw-rw-  2.0 fat      110 b- defN 22-Sep-21 19:53 modzy_sdk-0.9.1.dist-info/WHEEL
+-rw-rw-rw-  2.0 fat       20 b- defN 22-Sep-21 19:53 modzy_sdk-0.9.1.dist-info/top_level.txt
+?rw-rw-r--  2.0 fat     4248 b- defN 22-Sep-21 19:53 modzy_sdk-0.9.1.dist-info/RECORD
+49 files, 391412 bytes uncompressed, 73012 bytes compressed:  81.3%
```

## zipnote {}

```diff
@@ -126,23 +126,23 @@
 
 Filename: tests/test_results.py
 Comment: 
 
 Filename: tests/test_tags.py
 Comment: 
 
-Filename: modzy_sdk-0.9.0.post0.dist-info/LICENSE
+Filename: modzy_sdk-0.9.1.dist-info/LICENSE
 Comment: 
 
-Filename: modzy_sdk-0.9.0.post0.dist-info/METADATA
+Filename: modzy_sdk-0.9.1.dist-info/METADATA
 Comment: 
 
-Filename: modzy_sdk-0.9.0.post0.dist-info/WHEEL
+Filename: modzy_sdk-0.9.1.dist-info/WHEEL
 Comment: 
 
-Filename: modzy_sdk-0.9.0.post0.dist-info/top_level.txt
+Filename: modzy_sdk-0.9.1.dist-info/top_level.txt
 Comment: 
 
-Filename: modzy_sdk-0.9.0.post0.dist-info/RECORD
+Filename: modzy_sdk-0.9.1.dist-info/RECORD
 Comment: 
 
 Zip file comment:
```

## modzy/jobs.py

```diff
@@ -1,20 +1,22 @@
 # -*- coding: utf-8 -*-
 """Classes for interacting with jobs."""
 
 import logging
+from multiprocessing.sharedctypes import Value
 import time
+import boto3
 from datetime import datetime
 from types import SimpleNamespace
 from urllib.parse import urlencode
 from ._api_object import ApiObject
 from ._size import human_read_to_bytes
 from ._util import encode_data_uri, depth, file_to_chunks, bytes_to_chunks
 from .error import Timeout
-from .models import Model
+from .models import Model, Models
 from deprecation import deprecated
 
 
 class Jobs:
     """The `Jobs` object.
 
     This object is used to retrieve information about jobs from the API.
@@ -197,14 +199,42 @@
         """
         dict_levels = depth(sources)
         if dict_levels == 1:
             return {'job': sources}
         else:
             return sources
 
+    def check_storagegrid_endpoint(self, endpoint, bucket, access_key_id, secret_access_key):
+
+        # establish session with aws sdk
+        session = boto3.session.Session()
+        # try to connect to storagegrid endpoint
+        req_check=False
+        try:
+            s3 = session.resource(service_name='s3', endpoint_url=endpoint, verify=False, aws_access_key_id=access_key_id, aws_secret_access_key=secret_access_key)  
+            bucket_exists = s3.Bucket(bucket) in s3.buckets.all()
+            if not bucket_exists:
+                raise ValueError
+            req_check=True
+            new_endpoint=endpoint
+        except Exception as e:
+            if not str(endpoint).startswith("https://") and not str(endpoint).startswith("http://"):
+                new_endpoint = "https://" + str(endpoint)
+                self.check_storagegrid_endpoint(new_endpoint, bucket, access_key_id, secret_access_key)
+                req_check = True
+            elif str(endpoint).startswith("http://"):
+                new_endpoint = "https://" + endpoint.split("http://")[-1]
+                self.check_storagegrid_endpoint(new_endpoint, bucket, access_key_id, secret_access_key)
+                req_check = True
+        
+        if not req_check:
+            raise ValueError("Invalid endpoint or bucket name. The endpoint param should point to a valid endpoint associated with your StorageGRID account. Confirm both your endpoint and the bucket name in your input sources dictionary are correct and try again.")        
+        
+        return new_endpoint
+        
     def submit_text(self, model, version, sources, explain=False):
         """Submits text data for a multiple source `Job`.
 
         Args:
             model (Union[str, Model]): The model identifier or a `Model` instance.
             version (str): The model version string.
             sources (dict): A mapping of source names to text sources. Each source should be a
@@ -609,22 +639,27 @@
                         secret_access_key='SECRET_ACCESS_KEY',
                         endpoint='https://endpoint.storage-grid.example',
                     )
         """
         identifier = Model._coerce_identifier(model)
         version = str(version)
         access_key_id = str(access_key_id)
-        # storageGRID endpoint must begin with "https://", so this conducts a quick test
-        if not str(endpoint).startswith("https://") and not str(endpoint).startswith("http://"):
-            endpoint = "https://" + str(endpoint)
-        elif str(endpoint).startswith("http://"):
-            endpoint = "https://" + endpoint.split("http://")[-1]
-        else:
-            endpoint = str(endpoint)
-
+        models = Models(self._api_client)
+        sample_input_key = list(models.get_version_input_sample(identifier, version)["input"]["sources"].keys())[0]
+        input_filename = list(models.get_version_input_sample(identifier, version)["input"]["sources"][sample_input_key].keys())[0]
+        # validate storageGRID endpoint 
+        try:
+            first_key = list(sources.keys())[0]
+            if first_key == input_filename:
+                bucket = sources[first_key]["bucket"]
+            else:
+                bucket = sources[first_key][input_filename]["bucket"]
+        except Exception:
+            raise ValueError("Invalid input sources file. Confirm your sources dictionary meets the required format (https://docs.modzy.com/docs/clientjobssubmit_netapp_storage_grid) and try again.")
+        endpoint = self.check_storagegrid_endpoint(endpoint, bucket, access_key_id, secret_access_key)
         body = {
             "model": {
                 "identifier": identifier,
                 "version": version
             },
             "explain": explain,
             "input": {
```

## Comparing `modzy_sdk-0.9.0.post0.dist-info/LICENSE` & `modzy_sdk-0.9.1.dist-info/LICENSE`

 * *Files identical despite different names*

## Comparing `modzy_sdk-0.9.0.post0.dist-info/METADATA` & `modzy_sdk-0.9.1.dist-info/METADATA`

 * *Files 0% similar despite different names*

```diff
@@ -1,10 +1,10 @@
 Metadata-Version: 2.1
 Name: modzy-sdk
-Version: 0.9.0.post0
+Version: 0.9.1
 Summary: Modzy's Python SDK queries and deploys models, submits inference jobs and returns results directly to your editor.
 Home-page: https://github.com/modzy/sdk-python
 Author: Modzy
 Author-email: support@modzy.com
 License: UNKNOWN
 Keywords: modzy,sdk
 Platform: UNKNOWN
@@ -20,14 +20,15 @@
 Description-Content-Type: text/markdown
 Requires-Dist: requests
 Requires-Dist: python-dotenv
 Requires-Dist: deprecation
 Requires-Dist: protobuf (==3.19.4)
 Requires-Dist: grpcio
 Requires-Dist: google-api-python-client
+Requires-Dist: boto3
 
 <div align="center">
 
 ![python-sdk-github-banner.png](https://raw.githubusercontent.com/modzy/sdk-python/main/python-sdk-github-banner.png)
 
 ![GitHub contributors](https://img.shields.io/github/contributors/modzy/sdk-python?logo=GitHub&style=flat)
 ![GitHub last commit](https://img.shields.io/github/last-commit/modzy/sdk-python?logo=GitHub&style=flat)
```

## Comparing `modzy_sdk-0.9.0.post0.dist-info/RECORD` & `modzy_sdk-0.9.1.dist-info/RECORD`

 * *Files 12% similar despite different names*

```diff
@@ -1,15 +1,15 @@
 modzy/__init__.py,sha256=yrJMqGPDRG9TWDVqx26iXqAl32EOW2P-HXS-H_86pyw,241
 modzy/_api_object.py,sha256=wXV488y2T0q97benWjU9JpZXopL3aEnq57MXnvjnFbw,2092
 modzy/_size.py,sha256=rRgw08Cm5kYdszdLqIaZx6pUb5HOXN-R8MP3oW1qKOg,751
 modzy/_util.py,sha256=z9PC9HB_t_brfRNI6o2422lObAx4SzVJqO42akD9v9E,7839
 modzy/client.py,sha256=sI_0tzOgUngiWDFzE-np7Z5JXxExQtkmtw7qP5HYu64,3068
 modzy/error.py,sha256=evSSdbJ01UZvSR2GBrnGctwE0g0vVXBFiJY1ZXoIpXU,4813
 modzy/http.py,sha256=zj_8nbbg4fAdwN82-wMN02rtSD9OZHwif6zmXhpVbOo,6749
-modzy/jobs.py,sha256=8JHYvB8SNj84WEZx-1OxH5jHmiz53Cahcd_SVwEUtPI,35317
+modzy/jobs.py,sha256=VXw4w_zeK2ix_4caBB3cUcYFxaFzwzEDIwUjYZXi5tk,37494
 modzy/models.py,sha256=Ty216MghVzAxhh4SkKT8HnJYlqk2fSKLDE386CXUkbk,31709
 modzy/results.py,sha256=ra9t6dt_FcvWFv576uq0vvumZ9pWZMzgp8mv3ep8L-E,9345
 modzy/tags.py,sha256=gbxcV9xB3kO0GI37uS3kqFl52oYfOIO5nXeBsYUwX3I,3627
 modzy/edge/__init__.py,sha256=47DEQpj8HBSa-_TImW-5JCeuQeRkm5NMpJWZG3hSuFU,0
 modzy/edge/client.py,sha256=fafbZYdbDsLGUfxXLfpqC_exxxI34Avy-O5ka0tOu6k,13126
 modzy/edge/proto/__init__.py,sha256=47DEQpj8HBSa-_TImW-5JCeuQeRkm5NMpJWZG3hSuFU,0
 modzy/edge/proto/common/__init__.py,sha256=47DEQpj8HBSa-_TImW-5JCeuQeRkm5NMpJWZG3hSuFU,0
@@ -38,12 +38,12 @@
 samples/model_sample.py,sha256=RA-j3uVP0ANTdDwECmo-51bhqkKcZmhzSwyzea85TX8,4061
 tests/__init__.py,sha256=47DEQpj8HBSa-_TImW-5JCeuQeRkm5NMpJWZG3hSuFU,0
 tests/test_client.py,sha256=nNi8bkHTip6ldZ5lIT33siSKhe2XM9a9XHmdxM0wWwU,270
 tests/test_jobs.py,sha256=vk-W9xgli9KpAi18s9tj-otBeUZBEO5r8Ix_XAsVwxg,5964
 tests/test_models.py,sha256=Kk2N4R-mTPYQj3aFcaCNjtj8lDeJ6YaqQO5nyKLIhGc,4749
 tests/test_results.py,sha256=qYyMv1LLP6ZPwnPovUe4S753sSf7Uvsl_4B21HrqrK8,1187
 tests/test_tags.py,sha256=v-nMp1LASTw9sXYWjCeZeW6txOufjNBvoAhUL9Ra_aE,2302
-modzy_sdk-0.9.0.post0.dist-info/LICENSE,sha256=HrhfyXIkWY2tGFK11kg7vPCqhgh5DcxleloqdhrpyMY,11558
-modzy_sdk-0.9.0.post0.dist-info/METADATA,sha256=tYtF2gm4smXIzEYisBuNSnamN4XLD1Q2LW_9pgXIQMo,15333
-modzy_sdk-0.9.0.post0.dist-info/WHEEL,sha256=WzZ8cwjh8l0jtULNjYq1Hpr-WCqCRgPr--TX4P5I1Wo,110
-modzy_sdk-0.9.0.post0.dist-info/top_level.txt,sha256=JPTh96ApA2-5rcIbehixiLxP-QABiyFKk1RusxWYoD8,20
-modzy_sdk-0.9.0.post0.dist-info/RECORD,,
+modzy_sdk-0.9.1.dist-info/LICENSE,sha256=HrhfyXIkWY2tGFK11kg7vPCqhgh5DcxleloqdhrpyMY,11558
+modzy_sdk-0.9.1.dist-info/METADATA,sha256=TEU5m8wymlqmUqTyse3mFzfQDpBV8buZkWzktbaqPTs,15348
+modzy_sdk-0.9.1.dist-info/WHEEL,sha256=WzZ8cwjh8l0jtULNjYq1Hpr-WCqCRgPr--TX4P5I1Wo,110
+modzy_sdk-0.9.1.dist-info/top_level.txt,sha256=JPTh96ApA2-5rcIbehixiLxP-QABiyFKk1RusxWYoD8,20
+modzy_sdk-0.9.1.dist-info/RECORD,,
```

