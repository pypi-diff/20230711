# Comparing `tmp/canonicalwebteam_store_api-4.2.0.tar.gz` & `tmp/canonicalwebteam_store_api-4.2.1.tar.gz`

## filetype from file(1)

```diff
@@ -1 +1 @@
-gzip compressed data, was "canonicalwebteam_store_api-4.2.0.tar", max compression
+gzip compressed data, was "canonicalwebteam_store_api-4.2.1.tar", max compression
```

## Comparing `canonicalwebteam_store_api-4.2.0.tar` & `canonicalwebteam_store_api-4.2.1.tar`

### file list

```diff
@@ -1,12 +1,12 @@
--rw-r--r--   0        0        0     7652 2023-06-07 13:12:48.786214 canonicalwebteam_store_api-4.2.0/LICENSE
--rw-r--r--   0        0        0     1430 2023-06-07 13:12:48.786214 canonicalwebteam_store_api-4.2.0/README.md
--rw-r--r--   0        0        0       65 2023-06-07 13:12:48.786214 canonicalwebteam_store_api-4.2.0/canonicalwebteam/__init__.py
--rw-r--r--   0        0        0        0 2023-06-07 13:12:48.786214 canonicalwebteam_store_api-4.2.0/canonicalwebteam/store_api/__init__.py
--rw-r--r--   0        0        0     1517 2023-06-07 13:12:48.786214 canonicalwebteam_store_api-4.2.0/canonicalwebteam/store_api/exceptions.py
--rw-r--r--   0        0        0    10632 2023-06-07 13:12:48.786214 canonicalwebteam_store_api-4.2.0/canonicalwebteam/store_api/publisher.py
--rw-r--r--   0        0        0     7075 2023-06-07 13:12:48.786214 canonicalwebteam_store_api-4.2.0/canonicalwebteam/store_api/store.py
--rw-r--r--   0        0        0        0 2023-06-07 13:12:48.786214 canonicalwebteam_store_api-4.2.0/canonicalwebteam/store_api/stores/__init__.py
--rw-r--r--   0        0        0     9736 2023-06-07 13:12:48.786214 canonicalwebteam_store_api-4.2.0/canonicalwebteam/store_api/stores/charmstore.py
--rw-r--r--   0        0        0    10193 2023-06-07 13:12:48.786214 canonicalwebteam_store_api-4.2.0/canonicalwebteam/store_api/stores/snapstore.py
--rw-r--r--   0        0        0      493 2023-06-07 13:12:48.790214 canonicalwebteam_store_api-4.2.0/pyproject.toml
--rw-r--r--   0        0        0     2213 1970-01-01 00:00:00.000000 canonicalwebteam_store_api-4.2.0/PKG-INFO
+-rw-r--r--   0        0        0     7652 2023-07-11 15:02:14.772195 canonicalwebteam_store_api-4.2.1/LICENSE
+-rw-r--r--   0        0        0     1430 2023-07-11 15:02:14.772195 canonicalwebteam_store_api-4.2.1/README.md
+-rw-r--r--   0        0        0       65 2023-07-11 15:02:14.772195 canonicalwebteam_store_api-4.2.1/canonicalwebteam/__init__.py
+-rw-r--r--   0        0        0        0 2023-07-11 15:02:14.772195 canonicalwebteam_store_api-4.2.1/canonicalwebteam/store_api/__init__.py
+-rw-r--r--   0        0        0     1517 2023-07-11 15:02:14.772195 canonicalwebteam_store_api-4.2.1/canonicalwebteam/store_api/exceptions.py
+-rw-r--r--   0        0        0    10632 2023-07-11 15:02:14.772195 canonicalwebteam_store_api-4.2.1/canonicalwebteam/store_api/publisher.py
+-rw-r--r--   0        0        0     7075 2023-07-11 15:02:14.772195 canonicalwebteam_store_api-4.2.1/canonicalwebteam/store_api/store.py
+-rw-r--r--   0        0        0        0 2023-07-11 15:02:14.772195 canonicalwebteam_store_api-4.2.1/canonicalwebteam/store_api/stores/__init__.py
+-rw-r--r--   0        0        0     9736 2023-07-11 15:02:14.776195 canonicalwebteam_store_api-4.2.1/canonicalwebteam/store_api/stores/charmstore.py
+-rw-r--r--   0        0        0    13381 2023-07-11 15:02:14.776195 canonicalwebteam_store_api-4.2.1/canonicalwebteam/store_api/stores/snapstore.py
+-rw-r--r--   0        0        0      493 2023-07-11 15:02:14.776195 canonicalwebteam_store_api-4.2.1/pyproject.toml
+-rw-r--r--   0        0        0     2213 1970-01-01 00:00:00.000000 canonicalwebteam_store_api-4.2.1/PKG-INFO
```

### Comparing `canonicalwebteam_store_api-4.2.0/LICENSE` & `canonicalwebteam_store_api-4.2.1/LICENSE`

 * *Files identical despite different names*

### Comparing `canonicalwebteam_store_api-4.2.0/README.md` & `canonicalwebteam_store_api-4.2.1/README.md`

 * *Files identical despite different names*

### Comparing `canonicalwebteam_store_api-4.2.0/canonicalwebteam/store_api/exceptions.py` & `canonicalwebteam_store_api-4.2.1/canonicalwebteam/store_api/exceptions.py`

 * *Files identical despite different names*

### Comparing `canonicalwebteam_store_api-4.2.0/canonicalwebteam/store_api/publisher.py` & `canonicalwebteam_store_api-4.2.1/canonicalwebteam/store_api/publisher.py`

 * *Files identical despite different names*

### Comparing `canonicalwebteam_store_api-4.2.0/canonicalwebteam/store_api/store.py` & `canonicalwebteam_store_api-4.2.1/canonicalwebteam/store_api/store.py`

 * *Files identical despite different names*

### Comparing `canonicalwebteam_store_api-4.2.0/canonicalwebteam/store_api/stores/charmstore.py` & `canonicalwebteam_store_api-4.2.1/canonicalwebteam/store_api/stores/charmstore.py`

 * *Files identical despite different names*

### Comparing `canonicalwebteam_store_api-4.2.0/canonicalwebteam/store_api/stores/snapstore.py` & `canonicalwebteam_store_api-4.2.1/canonicalwebteam/store_api/stores/snapstore.py`

 * *Files 14% similar despite different names*

```diff
@@ -89,16 +89,16 @@
         )
 
         return self.process_response(response)
 
     def get_publisherwg_endpoint_url(self, endpoint):
         return f"{SNAPSTORE_PUBLISHERWG_API_URL}v1/{endpoint}"
 
-    def _get_publisherwg_authorization_header(self, publisher_auth):
-        return {"Authorization": f"Macaroon {publisher_auth}"}
+    def _get_publisherwg_authorization_header(self, session):
+        return {"Authorization": f"Macaroon {session['developer_token']}"}
 
     def exchange_dashboard_macaroons(self, session):
         """
         Exchange dashboard.snapcraft.io SSO discharged macaroons
         """
         response = self.session.post(
             url=self.get_publisherwg_endpoint_url("tokens/dashboard/exchange"),
@@ -323,7 +323,98 @@
 
         response = self.session.get(
             url=self.get_endpoint_url(f"{store_id}"),
             headers=headers,
         )
 
         return self.process_response(response).get("invites", [])
+
+    # MODEL SERVICE ADMIN
+    def get_store_models(self, session, store_id):
+        response = self.session.get(
+            url=self.get_publisherwg_endpoint_url(f"brand/{store_id}/model"),
+            headers=self._get_publisherwg_authorization_header(session),
+        )
+
+        return self.process_response(response)
+
+    def create_store_model(self, session, store_id, name, api_key):
+        response = self.session.post(
+            url=self.get_publisherwg_endpoint_url(f"brand/{store_id}/model"),
+            headers=self._get_publisherwg_authorization_header(session),
+            json={"name": name, "api-key": api_key, "series": "16"},
+        )
+
+        return self.process_response(response)
+
+    def update_store_model(self, session, store_id, model_name, api_key):
+        response = self.session.patch(
+            url=self.get_publisherwg_endpoint_url(
+                f"brand/{store_id}/model/{model_name}"
+            ),
+            headers=self._get_publisherwg_authorization_header(session),
+            json={"api-key": api_key},
+        )
+
+        return self.process_response(response)
+
+    def get_store_model_policies(self, session, store_id, model_name):
+        response = self.session.get(
+            url=self.get_publisherwg_endpoint_url(
+                f"brand/{store_id}/model/{model_name}/serial_policy"
+            ),
+            headers=self._get_publisherwg_authorization_header(session),
+        )
+
+        return self.process_response(response)
+
+    def create_store_model_policy(
+        self, session, store_id, model_name, signing_key
+    ):
+        response = self.session.post(
+            url=self.get_publisherwg_endpoint_url(
+                f"brand/{store_id}/model/{model_name}/serial_policy"
+            ),
+            headers=self._get_publisherwg_authorization_header(session),
+            json={"signing-key-sha3-384": signing_key},
+        )
+
+        return self.process_response(response)
+
+    def get_store_signing_keys(self, session, store_id):
+        headers = self._get_publisherwg_authorization_header(session)
+        url = self.get_publisherwg_endpoint_url(
+            f"brand/{store_id}/signing_key"
+        )
+        response = self.session.get(
+            url=url,
+            headers=headers,
+        )
+
+        return self.process_response(response)
+
+    def create_store_signing_key(self, session, store_id, name):
+        headers = self._get_publisherwg_authorization_header(session)
+        url = self.get_publisherwg_endpoint_url(
+            f"brand/{store_id}/signing_key"
+        )
+        response = self.session.post(
+            url=url,
+            headers=headers,
+            json={"name": name},
+        )
+
+        return self.process_response(response)
+
+    def delete_store_signing_key(
+        self, session, store_id, signing_key_sha3_384
+    ):
+        headers = self._get_publisherwg_authorization_header(session)
+        url = self.get_publisherwg_endpoint_url(
+            f"brand/{store_id}/signing_key/{signing_key_sha3_384}"
+        )
+        response = self.session.delete(
+            url=url,
+            headers=headers,
+        )
+
+        return self.process_response(response)
```

### Comparing `canonicalwebteam_store_api-4.2.0/PKG-INFO` & `canonicalwebteam_store_api-4.2.1/PKG-INFO`

 * *Files 1% similar despite different names*

```diff
@@ -1,10 +1,10 @@
 Metadata-Version: 2.1
 Name: canonicalwebteam-store-api
-Version: 4.2.0
+Version: 4.2.1
 Summary: 
 License: LGPL-3.0
 Author: Canonical Web Team
 Author-email: webteam@canonical.com
 Requires-Python: >=3.6,<4.0
 Classifier: License :: OSI Approved :: GNU Lesser General Public License v3 (LGPLv3)
 Classifier: Programming Language :: Python :: 3
```

