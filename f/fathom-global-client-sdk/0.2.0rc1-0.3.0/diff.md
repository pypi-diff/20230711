# Comparing `tmp/fathom_global_client_sdk-0.2.0rc1-py3-none-any.whl.zip` & `tmp/fathom_global_client_sdk-0.3.0-py3-none-any.whl.zip`

## zipinfo {}

```diff
@@ -1,19 +1,19 @@
-Zip file size: 24844 bytes, number of entries: 17
--rw-r--r--  2.0 unx     7835 b- defN 23-May-22 11:09 fathom.py
--r-xr-xr-x  2.0 unx     1199 b- defN 23-May-22 11:11 proto/data/data_pb2.py
--r-xr-xr-x  2.0 unx      393 b- defN 23-May-22 11:11 proto/data/data_pb2.pyi
--r-xr-xr-x  2.0 unx    15826 b- defN 23-May-22 11:11 proto/fathom/fathom_pb2.py
--r-xr-xr-x  2.0 unx     5271 b- defN 23-May-22 11:11 proto/fathom/fathom_pb2.pyi
--r-xr-xr-x  2.0 unx     6039 b- defN 23-May-22 11:11 proto/fathom/fathom_pb2_grpc.py
--r-xr-xr-x  2.0 unx     2850 b- defN 23-May-22 11:11 proto/geo/geo_pb2.py
--r-xr-xr-x  2.0 unx     1401 b- defN 23-May-22 11:11 proto/geo/geo_pb2.pyi
--r-xr-xr-x  2.0 unx     7616 b- defN 23-May-22 11:11 proto/portfolio/portfolio_pb2.py
--r-xr-xr-x  2.0 unx     1706 b- defN 23-May-22 11:11 proto/portfolio/portfolio_pb2.pyi
--r-xr-xr-x  2.0 unx     4612 b- defN 23-May-22 11:11 proto/portfolio/portfolio_pb2_grpc.py
--r-xr-xr-x  2.0 unx     2693 b- defN 23-May-22 11:11 protoc_gen_openapiv2/options/annotations_pb2.py
--r-xr-xr-x  2.0 unx    18717 b- defN 23-May-22 11:10 protoc_gen_openapiv2/options/openapiv2_pb2.py
--r-xr-xr-x  2.0 unx    15279 b- defN 23-May-22 11:11 validate/validate_pb2.py
-?rw-------  2.0 unx       91 b- defN 23-May-22 11:11 fathom_global_client_sdk-0.2.0rc1.dist-info/WHEEL
-?rw-------  2.0 unx     1908 b- defN 23-May-22 11:11 fathom_global_client_sdk-0.2.0rc1.dist-info/METADATA
-?rw-------  2.0 unx     1463 b- defN 23-May-22 11:11 fathom_global_client_sdk-0.2.0rc1.dist-info/RECORD
-17 files, 94899 bytes uncompressed, 22434 bytes compressed:  76.4%
+Zip file size: 28483 bytes, number of entries: 17
+-rw-r--r--  2.0 unx    16716 b- defN 23-Jul-11 14:53 fathom.py
+-r-xr-xr-x  2.0 unx     1199 b- defN 23-Jul-11 14:54 proto/data/data_pb2.py
+-r-xr-xr-x  2.0 unx      393 b- defN 23-Jul-11 14:54 proto/data/data_pb2.pyi
+-r-xr-xr-x  2.0 unx    18509 b- defN 23-Jul-11 14:54 proto/fathom/fathom_pb2.py
+-r-xr-xr-x  2.0 unx     6805 b- defN 23-Jul-11 14:54 proto/fathom/fathom_pb2.pyi
+-r-xr-xr-x  2.0 unx     6013 b- defN 23-Jul-11 14:54 proto/fathom/fathom_pb2_grpc.py
+-r-xr-xr-x  2.0 unx     2850 b- defN 23-Jul-11 14:54 proto/geo/geo_pb2.py
+-r-xr-xr-x  2.0 unx     1401 b- defN 23-Jul-11 14:54 proto/geo/geo_pb2.pyi
+-r-xr-xr-x  2.0 unx     9267 b- defN 23-Jul-11 14:54 proto/portfolio/portfolio_pb2.py
+-r-xr-xr-x  2.0 unx     2930 b- defN 23-Jul-11 14:54 proto/portfolio/portfolio_pb2.pyi
+-r-xr-xr-x  2.0 unx     6430 b- defN 23-Jul-11 14:54 proto/portfolio/portfolio_pb2_grpc.py
+-r-xr-xr-x  2.0 unx     2693 b- defN 23-Jul-11 14:54 protoc_gen_openapiv2/options/annotations_pb2.py
+-r-xr-xr-x  2.0 unx    18717 b- defN 23-Jul-11 14:54 protoc_gen_openapiv2/options/openapiv2_pb2.py
+-r-xr-xr-x  2.0 unx    15279 b- defN 23-Jul-11 14:54 validate/validate_pb2.py
+?rw-------  2.0 unx       91 b- defN 23-Jul-11 14:54 fathom_global_client_sdk-0.3.0.dist-info/WHEEL
+?rw-------  2.0 unx     1881 b- defN 23-Jul-11 14:54 fathom_global_client_sdk-0.3.0.dist-info/METADATA
+?rw-------  2.0 unx     1455 b- defN 23-Jul-11 14:54 fathom_global_client_sdk-0.3.0.dist-info/RECORD
+17 files, 112629 bytes uncompressed, 26091 bytes compressed:  76.8%
```

## zipnote {}

```diff
@@ -36,17 +36,17 @@
 
 Filename: protoc_gen_openapiv2/options/openapiv2_pb2.py
 Comment: 
 
 Filename: validate/validate_pb2.py
 Comment: 
 
-Filename: fathom_global_client_sdk-0.2.0rc1.dist-info/WHEEL
+Filename: fathom_global_client_sdk-0.3.0.dist-info/WHEEL
 Comment: 
 
-Filename: fathom_global_client_sdk-0.2.0rc1.dist-info/METADATA
+Filename: fathom_global_client_sdk-0.3.0.dist-info/METADATA
 Comment: 
 
-Filename: fathom_global_client_sdk-0.2.0rc1.dist-info/RECORD
+Filename: fathom_global_client_sdk-0.3.0.dist-info/RECORD
 Comment: 
 
 Zip file comment:
```

## fathom.py

```diff
@@ -1,20 +1,29 @@
-"""The Fathom API client for querying flood and related data."""
+"""The Fathom API client for querying flood and related data.
+"""
+import dataclasses
 import logging
-from datetime import timedelta, datetime
-from typing import List, Optional
+import os
+from datetime import datetime, timedelta
+from typing import List, Optional, Any, MutableMapping, Union
 
 import grpc
+import requests
 from protoc_gen_validate.validator import validate_all
 
 from proto.fathom import fathom_pb2, fathom_pb2_grpc
+from proto.portfolio import portfolio_pb2, portfolio_pb2_grpc
 from proto.geo import geo_pb2
 
 FATHOM_GRPC_CHANNEL_MSG_SIZE = 10 * 1024 * 1024  # default 10MB
 
+log = logging.getLogger(__name__)
+
+PathOrString = Union[os.PathLike, str]
+
 
 class Client:
     """A Client for interacting with the Fathom API."""
 
     def __init__(
         self,
         client_id: str,
@@ -27,18 +36,18 @@
         Args:
             api_address: Address of the Fathom API server.
             client_id: Client ID to identify a registered client on the
                     authorization server.
             client_secret: Client Secret used with client_id to get an
                     access token.
             msg_channel_size: gRPC message channel size, it is 10MB by
-            default but if you will be dealing with data size larger than
-            the default, you can configure the size.
+                default but if you will be dealing with data size larger than
+                the default, you can configure the size.
         """
-        logging.info("fathom.Client: connecting to {}".format(api_address))
+        log.info("fathom.Client: connecting to {}".format(api_address))
 
         if not client_id:
             raise FathomException("Client ID can not be empty")
         if not client_secret:
             raise FathomException("Client secret can not be empty")
         if not api_address:
             raise FathomException("API Address can not be empty")
@@ -47,50 +56,75 @@
         self._client_id = client_id
         self._client_secret = client_secret
         self._auth_conn = None
         self._message_size = msg_channel_size
 
         # expired at creation.
         self._token_expiry = datetime.utcnow() + timedelta(seconds=-0.5)
-        self._stub = self._service_stub()
+        self._channel = None
 
-    def __del__(self) -> None:
-        if channel := getattr(self, "_channel", None):
-            channel.close()
-            logging.info("fathom.Client: closed gRPC channel")
+        self._stub_cache: MutableMapping[Any, Any] = {}
 
-    @property
-    def grpc_stub(self) -> fathom_pb2_grpc.FathomServiceStub:
-        """Returns the underlying gRPC connection for direct API access.
+        # Initialise a geoclient and forward method calls to avoid breaking compatability
+        self.geo = GeoClient(self)
+        self.get_points = self.geo.get_points
+        self.get_polygon = self.geo.get_polygon
+        self.get_with_shapefile = self.geo.get_with_shapefile
 
-        See https://grpc.io for more information.
-        """
-        return self._stub
+        self.portfolio: "PortfolioClient" = PortfolioClient(self)
 
-    def _service_stub(self) -> fathom_pb2_grpc.FathomServiceStub:
+        # Check auth and initialise the channel
+        _, _ = self._get_channel()
+
+    def __enter__(self):
+        return self
+
+    def __exit__(self, exc_type, exc_val, exc_tb):
+        self.close()
+
+    def close(self):
+        if channel := getattr(self, "_channel", None):
+            channel.close()
+            log.info("fathom.Client: closed gRPC channel")
+            del self._channel
+
+    def _get_channel(self) -> (grpc.Channel, bool):
         """Checks that the api credentials are still valid using an
-        expiration time, creates a new grpc stub or use the previously
-        created grpc stub depending on the condition.
+        expiration time, creates a new grpc channel or use the previously
+        created grpc channel depending on the condition.
         """
         channel_opt = [
             ("grpc.max_send_message_length", self._message_size),
             ("grpc.max_receive_message_length", self._message_size),
         ]
 
-        if self._token_expiry <= datetime.utcnow():
+        new = False
+
+        if self._token_expiry <= datetime.utcnow() or self._channel is None:
             call_creds = grpc.access_token_call_credentials(self._api_access_token())
             creds = grpc.composite_channel_credentials(
                 grpc.ssl_channel_credentials(), call_creds
             )
             self._channel = grpc.secure_channel(
                 self._api_addr, creds, options=channel_opt
             )
-            self._stub = fathom_pb2_grpc.FathomServiceStub(self._channel)
+            new = True
 
-        return self._stub
+        return self._channel, new
+
+    def _get_stub(self, stub_type):
+        """Gets a new stub for the given type from a new or cached channel"""
+        channel, new = self._get_channel()
+
+        if new or stub_type not in self._stub_cache:
+            # Always create a new one if we had to create a new channel
+            stub = stub_type(self._channel)
+            self._stub_cache[stub_type] = stub
+
+        return self._stub_cache[stub_type]
 
     def _api_access_token(self) -> str:
         """Returns an access token to authenticate with the Fathom API."""
         try:
             request = fathom_pb2.CreateAccessTokenRequest(
                 client_id=self._client_id, client_secret=self._client_secret
             )
@@ -103,14 +137,163 @@
             self._token_expiry = datetime.utcnow() + timedelta(
                 seconds=response.expire_secs
             )
             return response.access_token
         except Exception as err:
             raise Exception(f"Obtaining access token from auth server: {err}")
 
+
+@dataclasses.dataclass
+class PortfolioClient:
+    """Sub-client for interacting with portfolios
+
+    Example:
+        ```python
+        import time
+        import fathom
+
+        client = fathom.Client(...)
+        layer_ids = [...]
+
+        create_resp = client.portfolio_client.create_task(layer_ids)
+
+        client.portfolio_client.upload_portfolio_csv(create_resp.upload_url, "/path/to/input.csv")
+
+        for i in range(100):
+            time.sleep(10)
+
+            status = client.portfolio_client.task_status(create_resp.task_id)
+            if status.task_status == portfolio_pb2.TASK_STATUS_COMPLETE:
+                break
+            elif status.task_status == portfolio_pb2.TASK_STATUS_ERROR:
+                raise Exception(f"task failed: {status}")
+        else:
+            raise Exception("task was not ready in time")
+
+        bytes_read = client.portfolio_client.attempt_task_result_download(
+            create_resp.task_id, "/path/to/output.csv"
+        )
+        ```
+    """
+
+    base_client: Client
+
+    def _service_stub(self) -> portfolio_pb2_grpc.PortfolioServiceStub:
+        return self.base_client._get_stub(portfolio_pb2_grpc.PortfolioServiceStub)
+
+    def create_task(
+        self, layer_ids: List[str]
+    ) -> portfolio_pb2.CreatePortfolioTaskResponse:
+        """Create a new portfolio task
+
+        Args:
+            layer_ids: Layer IDs to use for task
+        """
+
+        request = portfolio_pb2.CreatePortfolioTaskRequest(
+            layer_ids=layer_ids,
+        )
+
+        validate_all(request)
+
+        log.debug("Creating new portfolio task")
+
+        return self._service_stub().CreatePortfolioTask(request)
+
+    def task_status(self, task_id: str) -> portfolio_pb2.PortfolioStatusResponse:
+        """Gets the status of an existing portfolio task
+
+        Args:
+            task_id: ID of previously create portfolio task
+        """
+
+        request = portfolio_pb2.PortfolioStatusRequest(
+            task_id=task_id,
+        )
+
+        validate_all(request)
+
+        log.debug(f"Getting status of task '{task_id}")
+
+        return self._service_stub().GetPortfolioTaskStatus(request)
+
+    def attempt_task_result_download(
+        self, task_id: str, output_path: PathOrString, chunk_size: int = 1000
+    ) -> int:
+        """Attempts to download the result of a given task. Should only be called after a call to
+        `task_status` has indicated that the task completed without errors, otherwise an
+        exception will be raised.
+
+        Args:
+            task_id: ID of previously create portfolio task
+            output_path: Name of file to download output in to. Will be OVERWRITTEN if it already exists.
+            chunk_size: Override chunk size when downloading CSV
+
+        Returns:
+            Number of bytes downloaded
+
+        Raises:
+            FathomException: Task was not ready or there were errors during processing
+        """
+
+        task_status = self.task_status(task_id)
+        if not task_status.task_status == portfolio_pb2.TASK_STATUS_COMPLETE:
+            raise TaskNotCompleteException(
+                f"Expected task {task_id} to be COMPLETE, but was {task_status.task_status}"
+            )
+
+        log.debug(f"Downloading results of portfolio task to {output_path}")
+
+        bytes_read = 0
+
+        # stream response to avoid having to download hundreds of MB into memory first
+        with open(output_path, "wb") as output_file:
+            streaming_resp = requests.api.get(task_status.download_url, stream=True)
+
+            for chunk in streaming_resp.iter_content(chunk_size):
+                output_file.write(chunk)
+                bytes_read += len(chunk)
+
+        return bytes_read
+
+    @staticmethod
+    def upload_portfolio_csv(upload_url: str, input_path: PathOrString):
+        """Uploads the given portfolio CSV file for the portfolio task
+
+        Args:
+            upload_url: upload url from a previous CreatePortfolioTaskResponse
+            input_path: path to CSV file to upload
+        """
+
+        log.debug(f"Uploading portfolio input from {input_path}")
+
+        with open(input_path, "rb") as csv_file:
+            size = os.path.getsize(input_path)
+            extra_headers = {
+                "content-length": str(size),
+                "content-type": "text/csv",
+                "x-goog-content-length-range": "0,209715200",
+            }
+            resp = requests.api.put(
+                url=upload_url, data=csv_file, headers=extra_headers, timeout=1
+            )
+
+        if resp.status_code != 200:
+            raise FathomException(f"Error uploading CSV: {resp}")
+
+
+@dataclasses.dataclass
+class GeoClient:
+    """A sub-client for synchronously fetching data for points or polygons."""
+
+    base_client: Client
+
+    def _service_stub(self) -> fathom_pb2_grpc.FathomServiceStub:
+        return self.base_client._get_stub(fathom_pb2_grpc.FathomServiceStub)
+
     def get_points(
         self, points: geo_pb2.MultiPoint, layer_ids: List[str], project_id: str = None
     ) -> fathom_pb2.GetDataResponse:
         """Returns data pertaining to a list of lat-lng coordinates.
 
         Args:
             points: A list of points.
@@ -137,20 +320,18 @@
     def get_polygon(
         self, polygon: geo_pb2.Polygon, layer_ids: List[str], project_id: str = None
     ) -> fathom_pb2.GetDataResponse:
         """Returns data pertaining to a polygon coordinates.
 
         Args:
             polygon: The bounding points of an area for which data are requested.
-            The first and last point MUST be the same, and the loop MUST be in a
-            counterclockwise direction (i.e. on the left-hand side of an observer
-            walking along the boundary).
-
+                The first and last point MUST be the same, and the loop MUST be in a
+                counterclockwise direction (i.e. on the left-hand side of an observer
+                walking along the boundary).
             layer_ids: The identifiers of the types of data being requested.
-
             project_id: string
         """
         request = fathom_pb2.GetDataRequest(
             polygon=polygon,
             layers=fathom_pb2.Layers(
                 layer_ids=fathom_pb2.Layers.Identifiers(
                     ids=layer_ids,
@@ -159,25 +340,55 @@
             metadata=_metadata_from_project_id(project_id),
         )
 
         validate_all(request)
 
         return self._service_stub().GetData(request)
 
+    def polygon_stats(
+        self, polygon: geo_pb2.Polygon, layer_ids: List[str], project_id: str = None
+    ) -> fathom_pb2.GetPolygonStatsResponse:
+        """Returns statistics about polygons using the given layer_ids
+
+        This is similar to the get_polygons method, but will only return statistics about the polygon,
+        not the polygon itself. to see what statistics are returned, see [the gRPC documentation](
+        ../compile_proto_docs.md#polygonstats_1)
+
+        Args:
+            polygon: The bounding points of an area for which data are requested.
+                The first and last point MUST be the same, and the loop MUST be in a
+                counterclockwise direction (i.e. on the left-hand side of an observer
+                walking along the boundary).
+            layer_ids: The identifiers of the types of data being requested.
+            project_id: string
+        """
+
+        request = fathom_pb2.GetPolygonStatsRequest(
+            polygon=polygon,
+            layers=fathom_pb2.Layers(
+                layer_ids=fathom_pb2.Layers.Identifiers(
+                    ids=layer_ids,
+                ),
+            ),
+            metadata=_metadata_from_project_id(project_id),
+        )
+
+        validate_all(request)
+
+        return self._service_stub().GetPolygonStats(request)
+
     def get_with_shapefile(
         self, file: str, layer_ids: List[str], project_id: str = None
     ) -> fathom_pb2.GetDataResponse:
         """Returns data pertaining to a polygon coordinates from a shapefile.
 
         Args:
             file: The shapefile containing geometries requested. Only Point,
-            MultiPoint, and Polygon are supported.
-
+                MultiPoint, and Polygon are supported.
             layer_ids: The identifiers of the types of data being requested.
-
             project_id: string
         """
         with open(file, "rb") as f:
             request = fathom_pb2.GetDataRequest(
                 shp_file=f.read(),
                 layers=fathom_pb2.Layers(
                     layer_ids=fathom_pb2.Layers.Identifiers(
@@ -188,14 +399,56 @@
             )
 
         validate_all(request)
 
         return self._service_stub().GetData(request)
 
 
+def write_tiffs(
+    response: fathom_pb2.GetDataResponse,
+    output_dir: Union[os.PathLike, str],
+    *,
+    pattern: str = "{layer_id}-{tiff_num}.tif",
+):
+    """Given a data response, write any polygon tiffs in the response to the output directory.
+
+    Args:
+        response: A response from a `get_polygon` request
+        output_dir: the directory to write the shape files to
+        pattern: The pattern to save the file as. Formatted using normal Python string formatting,
+            with the only available key being :
+                - 'layer_id': the layer id
+                - 'tiff_num': The index of the tiff in the get data response for the layer
+                - 'sep': The os-specific directory separator
+    """
+
+    data: fathom_pb2.Data
+    for layer_id, data in response.results.items():
+        if data.code or data.values or (not data.polygons.geo_tiffs):
+            raise FathomException(
+                "Tried to write tiffs from a response that contained no polygons"
+            )
+
+        for tiff_num, geotiff in enumerate(data.polygons.geo_tiffs):
+            format_vars = {
+                "sep": os.sep,
+                "layer_id": layer_id,
+                "tiff_num": tiff_num,
+            }
+            base = pattern.format(**format_vars)
+
+            filename = os.path.join(output_dir, base)
+
+            tiff_dir = os.path.dirname(filename)
+            os.makedirs(tiff_dir, exist_ok=True)
+
+            with open(filename, "wb") as shapefile:
+                shapefile.write(geotiff)
+
+
 def _metadata_from_project_id(project_id: Optional[str]) -> Optional[dict]:
     return {"project_id": project_id} if project_id else None
 
 
 def point(lat: float, lng: float) -> geo_pb2.Point:
     """Returns a Point object for use with Client.get_point()."""
     return geo_pb2.Point(
@@ -221,7 +474,11 @@
             line_string(points),
         ]
     )
 
 
 class FathomException(Exception):
     """A client exception"""
+
+
+class TaskNotCompleteException(FathomException):
+    """Tried to download the result from a task that was not complete"""
```

## proto/fathom/fathom_pb2.py

```diff
@@ -10,27 +10,32 @@
 
 _sym_db = _symbol_database.Default()
 
 
 from google.api import annotations_pb2 as google_dot_api_dot_annotations__pb2
 from proto.data import data_pb2 as proto_dot_data_dot_data__pb2
 from proto.geo import geo_pb2 as proto_dot_geo_dot_geo__pb2
-from proto.portfolio import portfolio_pb2 as proto_dot_portfolio_dot_portfolio__pb2
 from protoc_gen_openapiv2.options import annotations_pb2 as protoc__gen__openapiv2_dot_options_dot_annotations__pb2
 from validate import validate_pb2 as validate_dot_validate__pb2
 
 
-DESCRIPTOR = _descriptor_pool.Default().AddSerializedFile(b'\n\x19proto/fathom/fathom.proto\x12\x06\x66\x61thom\x1a\x1cgoogle/api/annotations.proto\x1a\x15proto/data/data.proto\x1a\x13proto/geo/geo.proto\x1a\x1fproto/portfolio/portfolio.proto\x1a.protoc-gen-openapiv2/options/annotations.proto\x1a\x17validate/validate.proto\"\x1a\n\x18ListAvailableDataRequest\"\x1b\n\x19ListAvailableDataResponse\"\xe3\x06\n\x0eGetDataRequest\x12(\n\x07polygon\x18\x02 \x01(\x0b\x32\x0c.geo.PolygonH\x00R\x07polygon\x12)\n\x06points\x18\x05 \x01(\x0b\x32\x0f.geo.MultiPointH\x00R\x06points\x12$\n\x08shp_file\x18\x04 \x01(\x0c\x42\x07\xfa\x42\x04z\x02\x10\x44H\x00R\x07shpFile\x12&\n\x06layers\x18\x03 \x01(\x0b\x32\x0e.fathom.LayersR\x06layers\x12@\n\x08metadata\x18\x06 \x03(\x0b\x32$.fathom.GetDataRequest.MetadataEntryR\x08metadata\x1a;\n\rMetadataEntry\x12\x10\n\x03key\x18\x01 \x01(\tR\x03key\x12\x14\n\x05value\x18\x02 \x01(\tR\x05value:\x02\x38\x01:\x94\x04\x92\x41\x90\x04\nr*\x0fGetData request2VUsing this endpoint via REST only support \'points\', not \'polygon\' or \'shp_file\' inputs\xd2\x01\x06layers2\x99\x03{\"points\": {\"points\": [{\"longitude\": -2.601340, \"latitude\": 51.448765}, {\"longitude\": -105.1162333, \"latitude\": 39.628574}]},\"layers\": {\"layer_ids\": {\"ids\": [\"US-1_3ARCSEC-00_OFFSET-1in1000-FLUVIAL-DEFENDED-DEPTH-2020-PERCENTILE50-v2.0.0\", \"GLOBAL-1ARCSEC-NW_OFFSET-1in1000-FLUVIAL-UNDEFENDED-DEPTH-2020-PERCENTILE50-v3.0\", \"GLOBAL-1ARCSEC-NW_OFFSET-1in100-FLUVIAL-UNDEFENDED-DEPTH-2020-PERCENTILE50-v3.0\"]}}}B\x12\n\x0b\x63oordinates\x12\x03\xf8\x42\x01J\x04\x08\x01\x10\x02\"\x80\x01\n\x06Layers\x12\x39\n\tlayer_ids\x18\x01 \x01(\x0b\x32\x1a.fathom.Layers.IdentifiersH\x00R\x08layerIds\x1a)\n\x0bIdentifiers\x12\x1a\n\x03ids\x18\x01 \x03(\tB\x08\xfa\x42\x05\x92\x01\x02\x08\x01R\x03idsB\n\n\x03ids\x12\x03\xf8\x42\x01J\x04\x08\x02\x10\x03\"\xa0\x0c\n\x0fGetDataResponse\x12>\n\x07results\x18\x01 \x03(\x0b\x32$.fathom.GetDataResponse.ResultsEntryR\x07results\x1aH\n\x0cResultsEntry\x12\x10\n\x03key\x18\x01 \x01(\tR\x03key\x12\"\n\x05value\x18\x02 \x01(\x0b\x32\x0c.fathom.DataR\x05value:\x02\x38\x01:\x82\x0b\x92\x41\xfe\n\n\x1c*\x10GetData response\xd2\x01\x07results2\xdd\n{\"results\": {\"US-1_3ARCSEC-00_OFFSET-1in1000-FLUVIAL-DEFENDED-DEPTH-2020-PERCENTILE50-v2.0.0\": {\"values\": [{\"sw_corner\": {\"longitude\": -2.6013888888888888, \"latitude\": 51.44870370370371}, \"query_point\": {\"longitude\": -2.60134, \"latitude\": 51.448765}, \"code\": \"NO_DATA\"}, {\"sw_corner\": {\"longitude\": -105.1162962962963, \"latitude\": 39.62851851851852}, \"query_point\": {\"longitude\": -105.1162333, \"latitude\": 39.628574}, \"val\": 0}], \"resolution\": \"RESOLUTION_THIRD_ARC_SEC\"},\"GLOBAL-1ARCSEC-NW_OFFSET-1in1000-FLUVIAL-UNDEFENDED-DEPTH-2020-PERCENTILE50-v3.0\": {\"values\": [{\"sw_corner\": {\"longitude\": -2.6013888888888888, \"latitude\": 51.44861111111111}, \"query_point\": {\"longitude\": -2.60134, \"latitude\": 51.448765}, \"val\": 205}, {\"sw_corner\": {\"longitude\": -105.11638888888889, \"latitude\": 39.62833333333333}, \"query_point\": {\"longitude\": -105.1162333, \"latitude\": 39.628574}, \"val\": 0}], \"resolution\": \"RESOLUTION_1_ARC_SEC\"},\"GLOBAL-1ARCSEC-NW_OFFSET-1in100-FLUVIAL-UNDEFENDED-DEPTH-2020-PERCENTILE50-v3.0\": {\"values\": [{\"sw_corner\": {\"longitude\": -2.6013888888888888, \"latitude\": 51.44861111111111}, \"query_point\": {\"longitude\": -2.60134, \"latitude\": 51.448765}, \"val\": 90}, {\"sw_corner\": {\"longitude\": -105.11638888888889, \"latitude\": 39.62833333333333}, \"query_point\": {\"longitude\": -105.1162333, \"latitude\": 39.628574}, \"val\": 0}], \"resolution\": \"RESOLUTION_1_ARC_SEC\"}}}\"\xe6\x02\n\x04\x44\x61ta\x12\x30\n\nresolution\x18\x01 \x01(\x0e\x32\x10.data.ResolutionR\nresolution\x12*\n\x06values\x18\x04 \x03(\x0b\x32\x12.fathom.Data.ValueR\x06values\x12.\n\x08polygons\x18\x05 \x01(\x0b\x32\x10.fathom.PolygonsH\x00R\x08polygons\x12\"\n\x04\x63ode\x18\x06 \x01(\x0e\x32\x0c.fathom.CodeH\x00R\x04\x63ode\x1a\xa0\x01\n\x05Value\x12\'\n\tsw_corner\x18\x01 \x01(\x0b\x32\n.geo.PointR\x08swCorner\x12+\n\x0bquery_point\x18\x05 \x01(\x0b\x32\n.geo.PointR\nqueryPoint\x12\x12\n\x03val\x18\x02 \x01(\rH\x00R\x03val\x12\"\n\x04\x63ode\x18\x03 \x01(\x0e\x32\x0c.fathom.CodeH\x00R\x04\x63odeB\t\n\x07payloadB\t\n\x07payload\"\'\n\x08Polygons\x12\x1b\n\tgeo_tiffs\x18\x01 \x03(\x0cR\x08geoTiffs\"\x84\x02\n\x18\x43reateAccessTokenRequest\x12\x1b\n\tclient_id\x18\x01 \x01(\tR\x08\x63lientId\x12#\n\rclient_secret\x18\x02 \x01(\tR\x0c\x63lientSecret:\xa5\x01\x92\x41\xa1\x01\n;*\x1d\x41\x63\x63\x65ss token creation request\xd2\x01\tclient_id\xd2\x01\rclient_secret2b{\"client_id\": \"ieKoa2kuuMucaeleithu\", \"client_secret\": \"JiefahPeeli3NoVoochaibuc4ongie3eib2ai5ch\"}\"\xc8\x01\n\x19\x43reateAccessTokenResponse\x12!\n\x0c\x61\x63\x63\x65ss_token\x18\x01 \x01(\tR\x0b\x61\x63\x63\x65ssToken\x12\x1f\n\x0b\x65xpire_secs\x18\x02 \x01(\x04R\nexpireSecs:g\x92\x41\x64\n *\x1e\x41\x63\x63\x65ss token creation response2@{\"access_token\": \"zahhuZa5aikae6OhW2su\", \"expire_secs\": \"86400\"}*9\n\x04\x43ode\x12\x0f\n\x0bUNSPECIFIED\x10\x00\x12\x0b\n\x07NO_DATA\x10\x01\x12\x13\n\x0fPERMANENT_WATER\x10\x02\x32\xa2\t\n\rFathomService\x12q\n\x11ListAvailableData\x12 .fathom.ListAvailableDataRequest\x1a!.fathom.ListAvailableDataResponse\"\x17\x82\xd3\xe4\x93\x02\x0c\x12\n/v1/layers\x92\x41\x02X\x01\x12\xdf\x03\n\x07GetData\x12\x16.fathom.GetDataRequest\x1a\x17.fathom.GetDataResponse\"\xa2\x03\x82\xd3\xe4\x93\x02\x17\"\x12/v1/layers:getData:\x01*\x92\x41\x81\x03J1\n\x03\x32\x30\x30\x12*\n\x0bGot results\x12\x1b\n\x19\x1a\x17.fathom.GetDataResponseJn\n\x03\x34\x30\x31\x12g\n\x0f\x42\x61\x64 credentials\x12\x16\n\x14\x1a\x12.google.rpc.Status\"<\n\x10\x61pplication/json\x12({\"code\":16,\"message\":\"No authorization\"}Ji\n\x03\x34\x30\x30\x12\x62\n\x0b\x42\x61\x64 request\x12\x16\n\x14\x1a\x12.google.rpc.Status\";\n\x10\x61pplication/json\x12\'{\"code\":3,\"message\":\"No points passed\"}Jq\n\x07\x64\x65\x66\x61ult\x12\x66\n\x0bOther error\x12\x16\n\x14\x1a\x12.google.rpc.Status\"?\n\x10\x61pplication/json\x12+{\"code\":13,\"message\":\"Error querying data\"}\x12\xbb\x04\n\x11\x43reateAccessToken\x12 .fathom.CreateAccessTokenRequest\x1a!.fathom.CreateAccessTokenResponse\"\xe0\x03\x82\xd3\xe4\x93\x02\x13\"\x0e/v1/auth/token:\x01*\x92\x41\xc3\x03JH\n\x03\x32\x30\x30\x12\x41\n\x18\x43reated new access token\x12%\n#\x1a!.fathom.CreateAccessTokenResponseJ\x83\x01\n\x03\x34\x30\x31\x12|\n\x0f\x42\x61\x64 credentials\x12\x16\n\x14\x1a\x12.google.rpc.Status\"Q\n\x10\x61pplication/json\x12={\"code\":16,\"message\":\"Invalid client ID and Secret provided\"}J{\n\x03\x34\x30\x30\x12t\n\x0b\x42\x61\x64 request\x12\x16\n\x14\x1a\x12.google.rpc.Status\"M\n\x10\x61pplication/json\x12\x39{\"code\":3,\"message\":\"Empty Client ID or Secret provided\"}Jr\n\x07\x64\x65\x66\x61ult\x12g\n\x0bOther error\x12\x16\n\x14\x1a\x12.google.rpc.Status\"@\n\x10\x61pplication/json\x12,{\"code\":13,\"message\":\"Error fetching token\"}b\x00\x42\xd2\x02Z)github.com/fathom-global/api/proto/fathom\x92\x41\xa3\x02\x12\xc1\x01\n\nFathom API\x12\x8e\x01The Fathom API.\n\nNote that all error response will include a gRPC response code - see https://grpc.github.io/grpc/core/md_doc_statuscodes.html\"\x1f\n\x06\x46\x61thom\x12\x15https://fathom.global2\x01\x31\x1a\x11\x61pi.fathom.global*\x01\x02\x32\x10\x61pplication/json:\x10\x61pplication/jsonZ#\n!\n\nApiKeyAuth\x12\x13\x08\x02\x1a\rAuthorization \x02\x62\x06proto3')
+DESCRIPTOR = _descriptor_pool.Default().AddSerializedFile(b'\n\x19proto/fathom/fathom.proto\x12\x06\x66\x61thom\x1a\x1cgoogle/api/annotations.proto\x1a\x15proto/data/data.proto\x1a\x13proto/geo/geo.proto\x1a.protoc-gen-openapiv2/options/annotations.proto\x1a\x17validate/validate.proto\"^\n\x0cPolygonStats\x12\x12\n\x04mean\x18\x01 \x01(\x05R\x04mean\x12\x10\n\x03min\x18\x02 \x01(\x05R\x03min\x12\x10\n\x03max\x18\x03 \x01(\x05R\x03max\x12\x16\n\x06stddev\x18\x04 \x01(\x05R\x06stddev\"\xa5\x02\n\x16GetPolygonStatsRequest\x12&\n\x07polygon\x18\x01 \x01(\x0b\x32\x0c.geo.PolygonR\x07polygon\x12&\n\x06layers\x18\x02 \x01(\x0b\x32\x0e.fathom.LayersR\x06layers\x12H\n\x08metadata\x18\x03 \x03(\x0b\x32,.fathom.GetPolygonStatsRequest.MetadataEntryR\x08metadata\x1a;\n\rMetadataEntry\x12\x10\n\x03key\x18\x01 \x01(\tR\x03key\x12\x14\n\x05value\x18\x02 \x01(\tR\x05value:\x02\x38\x01:4\x92\x41\x31\n/*\x1aPolygon statistics request\xd2\x01\x06layers\xd2\x01\x07polygon\"\xab\x01\n\x17GetPolygonStatsResponse\x12@\n\x05stats\x18\x01 \x03(\x0b\x32*.fathom.GetPolygonStatsResponse.StatsEntryR\x05stats\x1aN\n\nStatsEntry\x12\x10\n\x03key\x18\x01 \x01(\tR\x03key\x12*\n\x05value\x18\x02 \x01(\x0b\x32\x14.fathom.PolygonStatsR\x05value:\x02\x38\x01\"\xe3\x06\n\x0eGetDataRequest\x12(\n\x07polygon\x18\x02 \x01(\x0b\x32\x0c.geo.PolygonH\x00R\x07polygon\x12)\n\x06points\x18\x05 \x01(\x0b\x32\x0f.geo.MultiPointH\x00R\x06points\x12$\n\x08shp_file\x18\x04 \x01(\x0c\x42\x07\xfa\x42\x04z\x02\x10\x44H\x00R\x07shpFile\x12&\n\x06layers\x18\x03 \x01(\x0b\x32\x0e.fathom.LayersR\x06layers\x12@\n\x08metadata\x18\x06 \x03(\x0b\x32$.fathom.GetDataRequest.MetadataEntryR\x08metadata\x1a;\n\rMetadataEntry\x12\x10\n\x03key\x18\x01 \x01(\tR\x03key\x12\x14\n\x05value\x18\x02 \x01(\tR\x05value:\x02\x38\x01:\x94\x04\x92\x41\x90\x04\nr*\x0fGetData request2VUsing this endpoint via REST only support \'points\', not \'polygon\' or \'shp_file\' inputs\xd2\x01\x06layers2\x99\x03{\"points\": {\"points\": [{\"longitude\": -2.601340, \"latitude\": 51.448765}, {\"longitude\": -105.1162333, \"latitude\": 39.628574}]},\"layers\": {\"layer_ids\": {\"ids\": [\"US-1_3ARCSEC-00_OFFSET-1in1000-FLUVIAL-DEFENDED-DEPTH-2020-PERCENTILE50-v2.0.0\", \"GLOBAL-1ARCSEC-NW_OFFSET-1in1000-FLUVIAL-UNDEFENDED-DEPTH-2020-PERCENTILE50-v3.0\", \"GLOBAL-1ARCSEC-NW_OFFSET-1in100-FLUVIAL-UNDEFENDED-DEPTH-2020-PERCENTILE50-v3.0\"]}}}B\x12\n\x0b\x63oordinates\x12\x03\xf8\x42\x01J\x04\x08\x01\x10\x02\"\x80\x01\n\x06Layers\x12\x39\n\tlayer_ids\x18\x01 \x01(\x0b\x32\x1a.fathom.Layers.IdentifiersH\x00R\x08layerIds\x1a)\n\x0bIdentifiers\x12\x1a\n\x03ids\x18\x01 \x03(\tB\x08\xfa\x42\x05\x92\x01\x02\x08\x01R\x03idsB\n\n\x03ids\x12\x03\xf8\x42\x01J\x04\x08\x02\x10\x03\"\xa0\x0c\n\x0fGetDataResponse\x12>\n\x07results\x18\x01 \x03(\x0b\x32$.fathom.GetDataResponse.ResultsEntryR\x07results\x1aH\n\x0cResultsEntry\x12\x10\n\x03key\x18\x01 \x01(\tR\x03key\x12\"\n\x05value\x18\x02 \x01(\x0b\x32\x0c.fathom.DataR\x05value:\x02\x38\x01:\x82\x0b\x92\x41\xfe\n\n\x1c*\x10GetData response\xd2\x01\x07results2\xdd\n{\"results\": {\"US-1_3ARCSEC-00_OFFSET-1in1000-FLUVIAL-DEFENDED-DEPTH-2020-PERCENTILE50-v2.0.0\": {\"values\": [{\"sw_corner\": {\"longitude\": -2.6013888888888888, \"latitude\": 51.44870370370371}, \"query_point\": {\"longitude\": -2.60134, \"latitude\": 51.448765}, \"code\": \"NO_DATA\"}, {\"sw_corner\": {\"longitude\": -105.1162962962963, \"latitude\": 39.62851851851852}, \"query_point\": {\"longitude\": -105.1162333, \"latitude\": 39.628574}, \"val\": 0}], \"resolution\": \"RESOLUTION_THIRD_ARC_SEC\"},\"GLOBAL-1ARCSEC-NW_OFFSET-1in1000-FLUVIAL-UNDEFENDED-DEPTH-2020-PERCENTILE50-v3.0\": {\"values\": [{\"sw_corner\": {\"longitude\": -2.6013888888888888, \"latitude\": 51.44861111111111}, \"query_point\": {\"longitude\": -2.60134, \"latitude\": 51.448765}, \"val\": 205}, {\"sw_corner\": {\"longitude\": -105.11638888888889, \"latitude\": 39.62833333333333}, \"query_point\": {\"longitude\": -105.1162333, \"latitude\": 39.628574}, \"val\": 0}], \"resolution\": \"RESOLUTION_1_ARC_SEC\"},\"GLOBAL-1ARCSEC-NW_OFFSET-1in100-FLUVIAL-UNDEFENDED-DEPTH-2020-PERCENTILE50-v3.0\": {\"values\": [{\"sw_corner\": {\"longitude\": -2.6013888888888888, \"latitude\": 51.44861111111111}, \"query_point\": {\"longitude\": -2.60134, \"latitude\": 51.448765}, \"val\": 90}, {\"sw_corner\": {\"longitude\": -105.11638888888889, \"latitude\": 39.62833333333333}, \"query_point\": {\"longitude\": -105.1162333, \"latitude\": 39.628574}, \"val\": 0}], \"resolution\": \"RESOLUTION_1_ARC_SEC\"}}}\"\xe6\x02\n\x04\x44\x61ta\x12\x30\n\nresolution\x18\x01 \x01(\x0e\x32\x10.data.ResolutionR\nresolution\x12*\n\x06values\x18\x04 \x03(\x0b\x32\x12.fathom.Data.ValueR\x06values\x12.\n\x08polygons\x18\x05 \x01(\x0b\x32\x10.fathom.PolygonsH\x00R\x08polygons\x12\"\n\x04\x63ode\x18\x06 \x01(\x0e\x32\x0c.fathom.CodeH\x00R\x04\x63ode\x1a\xa0\x01\n\x05Value\x12\'\n\tsw_corner\x18\x01 \x01(\x0b\x32\n.geo.PointR\x08swCorner\x12+\n\x0bquery_point\x18\x05 \x01(\x0b\x32\n.geo.PointR\nqueryPoint\x12\x12\n\x03val\x18\x02 \x01(\rH\x00R\x03val\x12\"\n\x04\x63ode\x18\x03 \x01(\x0e\x32\x0c.fathom.CodeH\x00R\x04\x63odeB\t\n\x07payloadB\t\n\x07payload\"\'\n\x08Polygons\x12\x1b\n\tgeo_tiffs\x18\x01 \x03(\x0cR\x08geoTiffs\"\x84\x02\n\x18\x43reateAccessTokenRequest\x12\x1b\n\tclient_id\x18\x01 \x01(\tR\x08\x63lientId\x12#\n\rclient_secret\x18\x02 \x01(\tR\x0c\x63lientSecret:\xa5\x01\x92\x41\xa1\x01\n;*\x1d\x41\x63\x63\x65ss token creation request\xd2\x01\tclient_id\xd2\x01\rclient_secret2b{\"client_id\": \"ieKoa2kuuMucaeleithu\", \"client_secret\": \"JiefahPeeli3NoVoochaibuc4ongie3eib2ai5ch\"}\"\xc8\x01\n\x19\x43reateAccessTokenResponse\x12!\n\x0c\x61\x63\x63\x65ss_token\x18\x01 \x01(\tR\x0b\x61\x63\x63\x65ssToken\x12\x1f\n\x0b\x65xpire_secs\x18\x02 \x01(\x04R\nexpireSecs:g\x92\x41\x64\n *\x1e\x41\x63\x63\x65ss token creation response2@{\"access_token\": \"zahhuZa5aikae6OhW2su\", \"expire_secs\": \"86400\"}*9\n\x04\x43ode\x12\x0f\n\x0bUNSPECIFIED\x10\x00\x12\x0b\n\x07NO_DATA\x10\x01\x12\x13\n\x0fPERMANENT_WATER\x10\x02\x32\xb9\x0c\n\rFathomService\x12\xdf\x03\n\x07GetData\x12\x16.fathom.GetDataRequest\x1a\x17.fathom.GetDataResponse\"\xa2\x03\x82\xd3\xe4\x93\x02\x17\"\x12/v1/layers:getData:\x01*\x92\x41\x81\x03J1\n\x03\x32\x30\x30\x12*\n\x0bGot results\x12\x1b\n\x19\x1a\x17.fathom.GetDataResponseJn\n\x03\x34\x30\x31\x12g\n\x0f\x42\x61\x64 credentials\x12\x16\n\x14\x1a\x12.google.rpc.Status\"<\n\x10\x61pplication/json\x12({\"code\":16,\"message\":\"No authorization\"}Ji\n\x03\x34\x30\x30\x12\x62\n\x0b\x42\x61\x64 request\x12\x16\n\x14\x1a\x12.google.rpc.Status\";\n\x10\x61pplication/json\x12\'{\"code\":3,\"message\":\"No points passed\"}Jq\n\x07\x64\x65\x66\x61ult\x12\x66\n\x0bOther error\x12\x16\n\x14\x1a\x12.google.rpc.Status\"?\n\x10\x61pplication/json\x12+{\"code\":13,\"message\":\"Error querying data\"}\x12\x87\x04\n\x0fGetPolygonStats\x12\x1e.fathom.GetPolygonStatsRequest\x1a\x1f.fathom.GetPolygonStatsResponse\"\xb2\x03\x82\xd3\xe4\x93\x02\x19\"\x14/v1/polygon:getStats:\x01*\x92\x41\x8f\x03J9\n\x03\x32\x30\x30\x12\x32\n\x0bGot results\x12#\n!\x1a\x1f.fathom.GetPolygonStatsResponseJn\n\x03\x34\x30\x31\x12g\n\x0f\x42\x61\x64 credentials\x12\x16\n\x14\x1a\x12.google.rpc.Status\"<\n\x10\x61pplication/json\x12({\"code\":16,\"message\":\"No authorization\"}Jo\n\x03\x34\x30\x30\x12h\n\x0b\x42\x61\x64 request\x12\x16\n\x14\x1a\x12.google.rpc.Status\"A\n\x10\x61pplication/json\x12-{\"code\":3,\"message\":\"Invalid polygon passed\"}Jq\n\x07\x64\x65\x66\x61ult\x12\x66\n\x0bOther error\x12\x16\n\x14\x1a\x12.google.rpc.Status\"?\n\x10\x61pplication/json\x12+{\"code\":13,\"message\":\"Error querying data\"}\x12\xbb\x04\n\x11\x43reateAccessToken\x12 .fathom.CreateAccessTokenRequest\x1a!.fathom.CreateAccessTokenResponse\"\xe0\x03\x82\xd3\xe4\x93\x02\x13\"\x0e/v1/auth/token:\x01*\x92\x41\xc3\x03JH\n\x03\x32\x30\x30\x12\x41\n\x18\x43reated new access token\x12%\n#\x1a!.fathom.CreateAccessTokenResponseJ\x83\x01\n\x03\x34\x30\x31\x12|\n\x0f\x42\x61\x64 credentials\x12\x16\n\x14\x1a\x12.google.rpc.Status\"Q\n\x10\x61pplication/json\x12={\"code\":16,\"message\":\"Invalid client ID and Secret provided\"}J{\n\x03\x34\x30\x30\x12t\n\x0b\x42\x61\x64 request\x12\x16\n\x14\x1a\x12.google.rpc.Status\"M\n\x10\x61pplication/json\x12\x39{\"code\":3,\"message\":\"Empty Client ID or Secret provided\"}Jr\n\x07\x64\x65\x66\x61ult\x12g\n\x0bOther error\x12\x16\n\x14\x1a\x12.google.rpc.Status\"@\n\x10\x61pplication/json\x12,{\"code\":13,\"message\":\"Error fetching token\"}b\x00\x42\xd2\x02Z)github.com/fathom-global/api/proto/fathom\x92\x41\xa3\x02\x12\xc1\x01\n\nFathom API\x12\x8e\x01The Fathom API.\n\nNote that all error response will include a gRPC response code - see https://grpc.github.io/grpc/core/md_doc_statuscodes.html\"\x1f\n\x06\x46\x61thom\x12\x15https://fathom.global2\x01\x31\x1a\x11\x61pi.fathom.global*\x01\x02\x32\x10\x61pplication/json:\x10\x61pplication/jsonZ#\n!\n\nApiKeyAuth\x12\x13\x08\x02\x1a\rAuthorization \x02\x62\x06proto3')
 
 _builder.BuildMessageAndEnumDescriptors(DESCRIPTOR, globals())
 _builder.BuildTopDescriptorsAndMessages(DESCRIPTOR, 'proto.fathom.fathom_pb2', globals())
 if _descriptor._USE_C_DESCRIPTORS == False:
 
   DESCRIPTOR._options = None
   DESCRIPTOR._serialized_options = b'Z)github.com/fathom-global/api/proto/fathom\222A\243\002\022\301\001\n\nFathom API\022\216\001The Fathom API.\n\nNote that all error response will include a gRPC response code - see https://grpc.github.io/grpc/core/md_doc_statuscodes.html\"\037\n\006Fathom\022\025https://fathom.global2\0011\032\021api.fathom.global*\001\0022\020application/json:\020application/jsonZ#\n!\n\nApiKeyAuth\022\023\010\002\032\rAuthorization \002'
+  _GETPOLYGONSTATSREQUEST_METADATAENTRY._options = None
+  _GETPOLYGONSTATSREQUEST_METADATAENTRY._serialized_options = b'8\001'
+  _GETPOLYGONSTATSREQUEST._options = None
+  _GETPOLYGONSTATSREQUEST._serialized_options = b'\222A1\n/*\032Polygon statistics request\322\001\006layers\322\001\007polygon'
+  _GETPOLYGONSTATSRESPONSE_STATSENTRY._options = None
+  _GETPOLYGONSTATSRESPONSE_STATSENTRY._serialized_options = b'8\001'
   _GETDATAREQUEST_METADATAENTRY._options = None
   _GETDATAREQUEST_METADATAENTRY._serialized_options = b'8\001'
   _GETDATAREQUEST.oneofs_by_name['coordinates']._options = None
   _GETDATAREQUEST.oneofs_by_name['coordinates']._serialized_options = b'\370B\001'
   _GETDATAREQUEST.fields_by_name['shp_file']._options = None
   _GETDATAREQUEST.fields_by_name['shp_file']._serialized_options = b'\372B\004z\002\020D'
   _GETDATAREQUEST._options = None
@@ -43,44 +48,50 @@
   _GETDATARESPONSE_RESULTSENTRY._serialized_options = b'8\001'
   _GETDATARESPONSE._options = None
   _GETDATARESPONSE._serialized_options = b'\222A\376\n\n\034*\020GetData response\322\001\007results2\335\n{\"results\": {\"US-1_3ARCSEC-00_OFFSET-1in1000-FLUVIAL-DEFENDED-DEPTH-2020-PERCENTILE50-v2.0.0\": {\"values\": [{\"sw_corner\": {\"longitude\": -2.6013888888888888, \"latitude\": 51.44870370370371}, \"query_point\": {\"longitude\": -2.60134, \"latitude\": 51.448765}, \"code\": \"NO_DATA\"}, {\"sw_corner\": {\"longitude\": -105.1162962962963, \"latitude\": 39.62851851851852}, \"query_point\": {\"longitude\": -105.1162333, \"latitude\": 39.628574}, \"val\": 0}], \"resolution\": \"RESOLUTION_THIRD_ARC_SEC\"},\"GLOBAL-1ARCSEC-NW_OFFSET-1in1000-FLUVIAL-UNDEFENDED-DEPTH-2020-PERCENTILE50-v3.0\": {\"values\": [{\"sw_corner\": {\"longitude\": -2.6013888888888888, \"latitude\": 51.44861111111111}, \"query_point\": {\"longitude\": -2.60134, \"latitude\": 51.448765}, \"val\": 205}, {\"sw_corner\": {\"longitude\": -105.11638888888889, \"latitude\": 39.62833333333333}, \"query_point\": {\"longitude\": -105.1162333, \"latitude\": 39.628574}, \"val\": 0}], \"resolution\": \"RESOLUTION_1_ARC_SEC\"},\"GLOBAL-1ARCSEC-NW_OFFSET-1in100-FLUVIAL-UNDEFENDED-DEPTH-2020-PERCENTILE50-v3.0\": {\"values\": [{\"sw_corner\": {\"longitude\": -2.6013888888888888, \"latitude\": 51.44861111111111}, \"query_point\": {\"longitude\": -2.60134, \"latitude\": 51.448765}, \"val\": 90}, {\"sw_corner\": {\"longitude\": -105.11638888888889, \"latitude\": 39.62833333333333}, \"query_point\": {\"longitude\": -105.1162333, \"latitude\": 39.628574}, \"val\": 0}], \"resolution\": \"RESOLUTION_1_ARC_SEC\"}}}'
   _CREATEACCESSTOKENREQUEST._options = None
   _CREATEACCESSTOKENREQUEST._serialized_options = b'\222A\241\001\n;*\035Access token creation request\322\001\tclient_id\322\001\rclient_secret2b{\"client_id\": \"ieKoa2kuuMucaeleithu\", \"client_secret\": \"JiefahPeeli3NoVoochaibuc4ongie3eib2ai5ch\"}'
   _CREATEACCESSTOKENRESPONSE._options = None
   _CREATEACCESSTOKENRESPONSE._serialized_options = b'\222Ad\n *\036Access token creation response2@{\"access_token\": \"zahhuZa5aikae6OhW2su\", \"expire_secs\": \"86400\"}'
-  _FATHOMSERVICE.methods_by_name['ListAvailableData']._options = None
-  _FATHOMSERVICE.methods_by_name['ListAvailableData']._serialized_options = b'\202\323\344\223\002\014\022\n/v1/layers\222A\002X\001'
   _FATHOMSERVICE.methods_by_name['GetData']._options = None
   _FATHOMSERVICE.methods_by_name['GetData']._serialized_options = b'\202\323\344\223\002\027\"\022/v1/layers:getData:\001*\222A\201\003J1\n\003200\022*\n\013Got results\022\033\n\031\032\027.fathom.GetDataResponseJn\n\003401\022g\n\017Bad credentials\022\026\n\024\032\022.google.rpc.Status\"<\n\020application/json\022({\"code\":16,\"message\":\"No authorization\"}Ji\n\003400\022b\n\013Bad request\022\026\n\024\032\022.google.rpc.Status\";\n\020application/json\022\'{\"code\":3,\"message\":\"No points passed\"}Jq\n\007default\022f\n\013Other error\022\026\n\024\032\022.google.rpc.Status\"?\n\020application/json\022+{\"code\":13,\"message\":\"Error querying data\"}'
+  _FATHOMSERVICE.methods_by_name['GetPolygonStats']._options = None
+  _FATHOMSERVICE.methods_by_name['GetPolygonStats']._serialized_options = b'\202\323\344\223\002\031\"\024/v1/polygon:getStats:\001*\222A\217\003J9\n\003200\0222\n\013Got results\022#\n!\032\037.fathom.GetPolygonStatsResponseJn\n\003401\022g\n\017Bad credentials\022\026\n\024\032\022.google.rpc.Status\"<\n\020application/json\022({\"code\":16,\"message\":\"No authorization\"}Jo\n\003400\022h\n\013Bad request\022\026\n\024\032\022.google.rpc.Status\"A\n\020application/json\022-{\"code\":3,\"message\":\"Invalid polygon passed\"}Jq\n\007default\022f\n\013Other error\022\026\n\024\032\022.google.rpc.Status\"?\n\020application/json\022+{\"code\":13,\"message\":\"Error querying data\"}'
   _FATHOMSERVICE.methods_by_name['CreateAccessToken']._options = None
   _FATHOMSERVICE.methods_by_name['CreateAccessToken']._serialized_options = b'\202\323\344\223\002\023\"\016/v1/auth/token:\001*\222A\303\003JH\n\003200\022A\n\030Created new access token\022%\n#\032!.fathom.CreateAccessTokenResponseJ\203\001\n\003401\022|\n\017Bad credentials\022\026\n\024\032\022.google.rpc.Status\"Q\n\020application/json\022={\"code\":16,\"message\":\"Invalid client ID and Secret provided\"}J{\n\003400\022t\n\013Bad request\022\026\n\024\032\022.google.rpc.Status\"M\n\020application/json\0229{\"code\":3,\"message\":\"Empty Client ID or Secret provided\"}Jr\n\007default\022g\n\013Other error\022\026\n\024\032\022.google.rpc.Status\"@\n\020application/json\022,{\"code\":13,\"message\":\"Error fetching token\"}b\000'
-  _CODE._serialized_start=3714
-  _CODE._serialized_end=3771
-  _LISTAVAILABLEDATAREQUEST._serialized_start=217
-  _LISTAVAILABLEDATAREQUEST._serialized_end=243
-  _LISTAVAILABLEDATARESPONSE._serialized_start=245
-  _LISTAVAILABLEDATARESPONSE._serialized_end=272
-  _GETDATAREQUEST._serialized_start=275
-  _GETDATAREQUEST._serialized_end=1142
-  _GETDATAREQUEST_METADATAENTRY._serialized_start=522
-  _GETDATAREQUEST_METADATAENTRY._serialized_end=581
-  _LAYERS._serialized_start=1145
-  _LAYERS._serialized_end=1273
-  _LAYERS_IDENTIFIERS._serialized_start=1214
-  _LAYERS_IDENTIFIERS._serialized_end=1255
-  _GETDATARESPONSE._serialized_start=1276
-  _GETDATARESPONSE._serialized_end=2844
-  _GETDATARESPONSE_RESULTSENTRY._serialized_start=1359
-  _GETDATARESPONSE_RESULTSENTRY._serialized_end=1431
-  _DATA._serialized_start=2847
-  _DATA._serialized_end=3205
-  _DATA_VALUE._serialized_start=3034
-  _DATA_VALUE._serialized_end=3194
-  _POLYGONS._serialized_start=3207
-  _POLYGONS._serialized_end=3246
-  _CREATEACCESSTOKENREQUEST._serialized_start=3249
-  _CREATEACCESSTOKENREQUEST._serialized_end=3509
-  _CREATEACCESSTOKENRESPONSE._serialized_start=3512
-  _CREATEACCESSTOKENRESPONSE._serialized_end=3712
-  _FATHOMSERVICE._serialized_start=3774
-  _FATHOMSERVICE._serialized_end=4960
+  _CODE._serialized_start=4190
+  _CODE._serialized_end=4247
+  _POLYGONSTATS._serialized_start=184
+  _POLYGONSTATS._serialized_end=278
+  _GETPOLYGONSTATSREQUEST._serialized_start=281
+  _GETPOLYGONSTATSREQUEST._serialized_end=574
+  _GETPOLYGONSTATSREQUEST_METADATAENTRY._serialized_start=461
+  _GETPOLYGONSTATSREQUEST_METADATAENTRY._serialized_end=520
+  _GETPOLYGONSTATSRESPONSE._serialized_start=577
+  _GETPOLYGONSTATSRESPONSE._serialized_end=748
+  _GETPOLYGONSTATSRESPONSE_STATSENTRY._serialized_start=670
+  _GETPOLYGONSTATSRESPONSE_STATSENTRY._serialized_end=748
+  _GETDATAREQUEST._serialized_start=751
+  _GETDATAREQUEST._serialized_end=1618
+  _GETDATAREQUEST_METADATAENTRY._serialized_start=461
+  _GETDATAREQUEST_METADATAENTRY._serialized_end=520
+  _LAYERS._serialized_start=1621
+  _LAYERS._serialized_end=1749
+  _LAYERS_IDENTIFIERS._serialized_start=1690
+  _LAYERS_IDENTIFIERS._serialized_end=1731
+  _GETDATARESPONSE._serialized_start=1752
+  _GETDATARESPONSE._serialized_end=3320
+  _GETDATARESPONSE_RESULTSENTRY._serialized_start=1835
+  _GETDATARESPONSE_RESULTSENTRY._serialized_end=1907
+  _DATA._serialized_start=3323
+  _DATA._serialized_end=3681
+  _DATA_VALUE._serialized_start=3510
+  _DATA_VALUE._serialized_end=3670
+  _POLYGONS._serialized_start=3683
+  _POLYGONS._serialized_end=3722
+  _CREATEACCESSTOKENREQUEST._serialized_start=3725
+  _CREATEACCESSTOKENREQUEST._serialized_end=3985
+  _CREATEACCESSTOKENRESPONSE._serialized_start=3988
+  _CREATEACCESSTOKENRESPONSE._serialized_end=4188
+  _FATHOMSERVICE._serialized_start=4250
+  _FATHOMSERVICE._serialized_end=5843
 # @@protoc_insertion_point(module_scope)
```

## proto/fathom/fathom_pb2.pyi

```diff
@@ -1,11 +1,10 @@
 from google.api import annotations_pb2 as _annotations_pb2
 from proto.data import data_pb2 as _data_pb2
 from proto.geo import geo_pb2 as _geo_pb2
-from proto.portfolio import portfolio_pb2 as _portfolio_pb2
 from protoc_gen_openapiv2.options import annotations_pb2 as _annotations_pb2
 from validate import validate_pb2 as _validate_pb2
 from google.protobuf.internal import containers as _containers
 from google.protobuf.internal import enum_type_wrapper as _enum_type_wrapper
 from google.protobuf import descriptor as _descriptor
 from google.protobuf import message as _message
 from typing import ClassVar, Iterable, Mapping, Optional, Text, Union
@@ -84,32 +83,66 @@
         key: str
         value: Data
         def __init__(self, key: Optional[str] = ..., value: Optional[Union[Data, Mapping]] = ...) -> None: ...
     RESULTS_FIELD_NUMBER: ClassVar[int]
     results: _containers.MessageMap[str, Data]
     def __init__(self, results: Optional[Mapping[str, Data]] = ...) -> None: ...
 
+class GetPolygonStatsRequest(_message.Message):
+    __slots__ = ["layers", "metadata", "polygon"]
+    class MetadataEntry(_message.Message):
+        __slots__ = ["key", "value"]
+        KEY_FIELD_NUMBER: ClassVar[int]
+        VALUE_FIELD_NUMBER: ClassVar[int]
+        key: str
+        value: str
+        def __init__(self, key: Optional[str] = ..., value: Optional[str] = ...) -> None: ...
+    LAYERS_FIELD_NUMBER: ClassVar[int]
+    METADATA_FIELD_NUMBER: ClassVar[int]
+    POLYGON_FIELD_NUMBER: ClassVar[int]
+    layers: Layers
+    metadata: _containers.ScalarMap[str, str]
+    polygon: _geo_pb2.Polygon
+    def __init__(self, polygon: Optional[Union[_geo_pb2.Polygon, Mapping]] = ..., layers: Optional[Union[Layers, Mapping]] = ..., metadata: Optional[Mapping[str, str]] = ...) -> None: ...
+
+class GetPolygonStatsResponse(_message.Message):
+    __slots__ = ["stats"]
+    class StatsEntry(_message.Message):
+        __slots__ = ["key", "value"]
+        KEY_FIELD_NUMBER: ClassVar[int]
+        VALUE_FIELD_NUMBER: ClassVar[int]
+        key: str
+        value: PolygonStats
+        def __init__(self, key: Optional[str] = ..., value: Optional[Union[PolygonStats, Mapping]] = ...) -> None: ...
+    STATS_FIELD_NUMBER: ClassVar[int]
+    stats: _containers.MessageMap[str, PolygonStats]
+    def __init__(self, stats: Optional[Mapping[str, PolygonStats]] = ...) -> None: ...
+
 class Layers(_message.Message):
     __slots__ = ["layer_ids"]
     class Identifiers(_message.Message):
         __slots__ = ["ids"]
         IDS_FIELD_NUMBER: ClassVar[int]
         ids: _containers.RepeatedScalarFieldContainer[str]
         def __init__(self, ids: Optional[Iterable[str]] = ...) -> None: ...
     LAYER_IDS_FIELD_NUMBER: ClassVar[int]
     layer_ids: Layers.Identifiers
     def __init__(self, layer_ids: Optional[Union[Layers.Identifiers, Mapping]] = ...) -> None: ...
 
-class ListAvailableDataRequest(_message.Message):
-    __slots__ = []
-    def __init__(self) -> None: ...
-
-class ListAvailableDataResponse(_message.Message):
-    __slots__ = []
-    def __init__(self) -> None: ...
+class PolygonStats(_message.Message):
+    __slots__ = ["max", "mean", "min", "stddev"]
+    MAX_FIELD_NUMBER: ClassVar[int]
+    MEAN_FIELD_NUMBER: ClassVar[int]
+    MIN_FIELD_NUMBER: ClassVar[int]
+    STDDEV_FIELD_NUMBER: ClassVar[int]
+    max: int
+    mean: int
+    min: int
+    stddev: int
+    def __init__(self, mean: Optional[int] = ..., min: Optional[int] = ..., max: Optional[int] = ..., stddev: Optional[int] = ...) -> None: ...
 
 class Polygons(_message.Message):
     __slots__ = ["geo_tiffs"]
     GEO_TIFFS_FIELD_NUMBER: ClassVar[int]
     geo_tiffs: _containers.RepeatedScalarFieldContainer[bytes]
     def __init__(self, geo_tiffs: Optional[Iterable[bytes]] = ...) -> None: ...
```

## proto/fathom/fathom_pb2_grpc.py

```diff
@@ -10,65 +10,65 @@
 
     def __init__(self, channel):
         """Constructor.
 
         Args:
             channel: A grpc.Channel.
         """
-        self.ListAvailableData = channel.unary_unary(
-                '/fathom.FathomService/ListAvailableData',
-                request_serializer=proto_dot_fathom_dot_fathom__pb2.ListAvailableDataRequest.SerializeToString,
-                response_deserializer=proto_dot_fathom_dot_fathom__pb2.ListAvailableDataResponse.FromString,
-                )
         self.GetData = channel.unary_unary(
                 '/fathom.FathomService/GetData',
                 request_serializer=proto_dot_fathom_dot_fathom__pb2.GetDataRequest.SerializeToString,
                 response_deserializer=proto_dot_fathom_dot_fathom__pb2.GetDataResponse.FromString,
                 )
+        self.GetPolygonStats = channel.unary_unary(
+                '/fathom.FathomService/GetPolygonStats',
+                request_serializer=proto_dot_fathom_dot_fathom__pb2.GetPolygonStatsRequest.SerializeToString,
+                response_deserializer=proto_dot_fathom_dot_fathom__pb2.GetPolygonStatsResponse.FromString,
+                )
         self.CreateAccessToken = channel.unary_unary(
                 '/fathom.FathomService/CreateAccessToken',
                 request_serializer=proto_dot_fathom_dot_fathom__pb2.CreateAccessTokenRequest.SerializeToString,
                 response_deserializer=proto_dot_fathom_dot_fathom__pb2.CreateAccessTokenResponse.FromString,
                 )
 
 
 class FathomServiceServicer(object):
     """Missing associated documentation comment in .proto file."""
 
-    def ListAvailableData(self, request, context):
+    def GetData(self, request, context):
         """Missing associated documentation comment in .proto file."""
         context.set_code(grpc.StatusCode.UNIMPLEMENTED)
         context.set_details('Method not implemented!')
         raise NotImplementedError('Method not implemented!')
 
-    def GetData(self, request, context):
+    def GetPolygonStats(self, request, context):
         """Missing associated documentation comment in .proto file."""
         context.set_code(grpc.StatusCode.UNIMPLEMENTED)
         context.set_details('Method not implemented!')
         raise NotImplementedError('Method not implemented!')
 
     def CreateAccessToken(self, request, context):
         """Missing associated documentation comment in .proto file."""
         context.set_code(grpc.StatusCode.UNIMPLEMENTED)
         context.set_details('Method not implemented!')
         raise NotImplementedError('Method not implemented!')
 
 
 def add_FathomServiceServicer_to_server(servicer, server):
     rpc_method_handlers = {
-            'ListAvailableData': grpc.unary_unary_rpc_method_handler(
-                    servicer.ListAvailableData,
-                    request_deserializer=proto_dot_fathom_dot_fathom__pb2.ListAvailableDataRequest.FromString,
-                    response_serializer=proto_dot_fathom_dot_fathom__pb2.ListAvailableDataResponse.SerializeToString,
-            ),
             'GetData': grpc.unary_unary_rpc_method_handler(
                     servicer.GetData,
                     request_deserializer=proto_dot_fathom_dot_fathom__pb2.GetDataRequest.FromString,
                     response_serializer=proto_dot_fathom_dot_fathom__pb2.GetDataResponse.SerializeToString,
             ),
+            'GetPolygonStats': grpc.unary_unary_rpc_method_handler(
+                    servicer.GetPolygonStats,
+                    request_deserializer=proto_dot_fathom_dot_fathom__pb2.GetPolygonStatsRequest.FromString,
+                    response_serializer=proto_dot_fathom_dot_fathom__pb2.GetPolygonStatsResponse.SerializeToString,
+            ),
             'CreateAccessToken': grpc.unary_unary_rpc_method_handler(
                     servicer.CreateAccessToken,
                     request_deserializer=proto_dot_fathom_dot_fathom__pb2.CreateAccessTokenRequest.FromString,
                     response_serializer=proto_dot_fathom_dot_fathom__pb2.CreateAccessTokenResponse.SerializeToString,
             ),
     }
     generic_handler = grpc.method_handlers_generic_handler(
@@ -77,44 +77,44 @@
 
 
  # This class is part of an EXPERIMENTAL API.
 class FathomService(object):
     """Missing associated documentation comment in .proto file."""
 
     @staticmethod
-    def ListAvailableData(request,
+    def GetData(request,
             target,
             options=(),
             channel_credentials=None,
             call_credentials=None,
             insecure=False,
             compression=None,
             wait_for_ready=None,
             timeout=None,
             metadata=None):
-        return grpc.experimental.unary_unary(request, target, '/fathom.FathomService/ListAvailableData',
-            proto_dot_fathom_dot_fathom__pb2.ListAvailableDataRequest.SerializeToString,
-            proto_dot_fathom_dot_fathom__pb2.ListAvailableDataResponse.FromString,
+        return grpc.experimental.unary_unary(request, target, '/fathom.FathomService/GetData',
+            proto_dot_fathom_dot_fathom__pb2.GetDataRequest.SerializeToString,
+            proto_dot_fathom_dot_fathom__pb2.GetDataResponse.FromString,
             options, channel_credentials,
             insecure, call_credentials, compression, wait_for_ready, timeout, metadata)
 
     @staticmethod
-    def GetData(request,
+    def GetPolygonStats(request,
             target,
             options=(),
             channel_credentials=None,
             call_credentials=None,
             insecure=False,
             compression=None,
             wait_for_ready=None,
             timeout=None,
             metadata=None):
-        return grpc.experimental.unary_unary(request, target, '/fathom.FathomService/GetData',
-            proto_dot_fathom_dot_fathom__pb2.GetDataRequest.SerializeToString,
-            proto_dot_fathom_dot_fathom__pb2.GetDataResponse.FromString,
+        return grpc.experimental.unary_unary(request, target, '/fathom.FathomService/GetPolygonStats',
+            proto_dot_fathom_dot_fathom__pb2.GetPolygonStatsRequest.SerializeToString,
+            proto_dot_fathom_dot_fathom__pb2.GetPolygonStatsResponse.FromString,
             options, channel_credentials,
             insecure, call_credentials, compression, wait_for_ready, timeout, metadata)
 
     @staticmethod
     def CreateAccessToken(request,
             target,
             options=(),
```

## proto/portfolio/portfolio_pb2.py

```diff
@@ -8,26 +8,29 @@
 from google.protobuf import symbol_database as _symbol_database
 # @@protoc_insertion_point(imports)
 
 _sym_db = _symbol_database.Default()
 
 
 from google.api import annotations_pb2 as google_dot_api_dot_annotations__pb2
+from google.protobuf import empty_pb2 as google_dot_protobuf_dot_empty__pb2
 from protoc_gen_openapiv2.options import annotations_pb2 as protoc__gen__openapiv2_dot_options_dot_annotations__pb2
 from validate import validate_pb2 as validate_dot_validate__pb2
 
 
-DESCRIPTOR = _descriptor_pool.Default().AddSerializedFile(b'\n\x1fproto/portfolio/portfolio.proto\x12\tportfolio\x1a\x1cgoogle/api/annotations.proto\x1a.protoc-gen-openapiv2/options/annotations.proto\x1a\x17validate/validate.proto\"\x8f\x03\n\x1a\x43reatePortfolioTaskRequest\x12\'\n\tlayer_ids\x18\x01 \x03(\tB\n\xfa\x42\x07\x92\x01\x04\x08\x01\x10(R\x08layerIds:\xc7\x02\x92\x41\xc3\x02\n(*\x1aPortfolio creation request\xd2\x01\tlayer_ids2\x96\x02{\"layerIds\": [\"GLOBAL-1ARCSEC-00_OFFSET-1in10-PLUVIAL-DEFENDED-DEPTH-2020-PERCENTILE50-v0.0.0_test\", \"GLOBAL-1ARCSEC-00_OFFSET-1in100-PLUVIAL-DEFENDED-DEPTH-2020-PERCENTILE50-v0.0.0_test\", \"GLOBAL-1_3ARCSEC-00_OFFSET-1in10-PLUVIAL-DEFENDED-DEPTH-2020-PERCENTILE50-v0.0.0_test\"]}\"\x90\x01\n\x1b\x43reatePortfolioTaskResponse\x12\x17\n\x07task_id\x18\x01 \x01(\tR\x06taskId\x12\x1d\n\nupload_url\x18\x02 \x01(\tR\tuploadUrl:9\x92\x41\x36\n4*\x1bPortfolio creation response\xd2\x01\x07task_id\xd2\x01\nupload_url\"f\n\x16PortfolioStatusRequest\x12!\n\x07task_id\x18\x01 \x01(\tB\x08\xfa\x42\x05r\x03\xb0\x01\x01R\x06taskId:)\x92\x41&\n$*\x18Portfolio status request\xd2\x01\x07task_id\"\xa5\x01\n\x17PortfolioStatusResponse\x12\x1f\n\x0btask_status\x18\x01 \x01(\tR\ntaskStatus\x12!\n\x0c\x64ownload_url\x18\x02 \x01(\tR\x0b\x64ownloadUrl\x12\x16\n\x06\x65rrors\x18\x03 \x03(\tR\x06\x65rrors:.\x92\x41+\n)*\x19Portfolio status response\xd2\x01\x0btask_status2\x85\t\n\x10PortfolioService\x12\xb0\x04\n\x13\x43reatePortfolioTask\x12%.portfolio.CreatePortfolioTaskRequest\x1a&.portfolio.CreatePortfolioTaskResponse\"\xc9\x03\x82\xd3\xe4\x93\x02\x13\"\x0e/v1/portfolios:\x01*\x92\x41\xac\x03J\xc5\x01\n\x03\x32\x30\x30\x12\xbd\x01\n\x18\x43reated task succesfully\x12*\n(\x1a&.portfolio.CreatePortfolioTaskResponse\"u\n\x10\x61pplication/json\x12\x61{\"taskId\": \"59acb604-6c65-45e5-acc2-2561b17e1d6f\", \"uploadUrl\": \"https://example.com/upload.csv\"}Jo\n\x03\x34\x30\x30\x12h\n\x11Invalid task spec\x12\x16\n\x14\x1a\x12.google.rpc.Status\";\n\x10\x61pplication/json\x12\'{\"code\":3,\"message\":\"No layers passed\"}Jq\n\x07\x64\x65\x66\x61ult\x12\x66\n\x0bOther error\x12\x16\n\x14\x1a\x12.google.rpc.Status\"?\n\x10\x61pplication/json\x12+{\"code\":13,\"message\":\"Error querying data\"}\x12\xbd\x04\n\x16GetPortfolioTaskStatus\x12!.portfolio.PortfolioStatusRequest\x1a\".portfolio.PortfolioStatusResponse\"\xdb\x03\x82\xd3\xe4\x93\x02\x10\x12\x0e/v1/portfolios\x92\x41\xc1\x03J\x9d\x01\n\x03\x32\x30\x30\x12\x95\x01\n\x08Got task\x12&\n$\x1a\".portfolio.PortfolioStatusResponse\"a\n\x10\x61pplication/json\x12M{\"taskStatus\": \"COMPLETE\", \"downloadUrl\": \"https://example.com/download.csv\"}J\xab\x01\n\x03\x34\x30\x30\x12\xa3\x01\n\x15\x45rror processing task\x12&\n$\x1a\".portfolio.PortfolioStatusResponse\"b\n\x10\x61pplication/json\x12N{\"taskStatus\": \"ERROR\", \"errors\": [\"there was an error processing the input\"]}Jq\n\x07\x64\x65\x66\x61ult\x12\x66\n\x0bOther error\x12\x16\n\x14\x1a\x12.google.rpc.Status\"?\n\x10\x61pplication/json\x12+{\"code\":13,\"message\":\"Error querying data\"}B.Z,github.com/fathom-global/api/proto/portfoliob\x06proto3')
+DESCRIPTOR = _descriptor_pool.Default().AddSerializedFile(b'\n\x1fproto/portfolio/portfolio.proto\x12\tportfolio\x1a\x1cgoogle/api/annotations.proto\x1a\x1bgoogle/protobuf/empty.proto\x1a.protoc-gen-openapiv2/options/annotations.proto\x1a\x17validate/validate.proto\"\x9d\x04\n\x1a\x43reatePortfolioTaskRequest\x12\'\n\tlayer_ids\x18\x01 \x03(\tB\n\xfa\x42\x07\x92\x01\x04\x08\x01\x10(R\x08layerIds\x12O\n\x08metadata\x18\x02 \x03(\x0b\x32\x33.portfolio.CreatePortfolioTaskRequest.MetadataEntryR\x08metadata\x1a;\n\rMetadataEntry\x12\x10\n\x03key\x18\x01 \x01(\tR\x03key\x12\x14\n\x05value\x18\x02 \x01(\tR\x05value:\x02\x38\x01:\xc7\x02\x92\x41\xc3\x02\n(*\x1aPortfolio creation request\xd2\x01\tlayer_ids2\x96\x02{\"layerIds\": [\"GLOBAL-1ARCSEC-00_OFFSET-1in10-PLUVIAL-DEFENDED-DEPTH-2020-PERCENTILE50-v0.0.0_test\", \"GLOBAL-1ARCSEC-00_OFFSET-1in100-PLUVIAL-DEFENDED-DEPTH-2020-PERCENTILE50-v0.0.0_test\", \"GLOBAL-1_3ARCSEC-00_OFFSET-1in10-PLUVIAL-DEFENDED-DEPTH-2020-PERCENTILE50-v0.0.0_test\"]}\"\x90\x01\n\x1b\x43reatePortfolioTaskResponse\x12\x17\n\x07task_id\x18\x01 \x01(\tR\x06taskId\x12\x1d\n\nupload_url\x18\x02 \x01(\tR\tuploadUrl:9\x92\x41\x36\n4*\x1bPortfolio creation response\xd2\x01\x07task_id\xd2\x01\nupload_url\"f\n\x16PortfolioStatusRequest\x12!\n\x07task_id\x18\x01 \x01(\tB\x08\xfa\x42\x05r\x03\xb0\x01\x01R\x06taskId:)\x92\x41&\n$*\x18Portfolio status request\xd2\x01\x07task_id\"\xbc\x01\n\x17PortfolioStatusResponse\x12\x36\n\x0btask_status\x18\x01 \x01(\x0e\x32\x15.portfolio.TaskStatusR\ntaskStatus\x12!\n\x0c\x64ownload_url\x18\x02 \x01(\tR\x0b\x64ownloadUrl\x12\x16\n\x06\x65rrors\x18\x03 \x03(\tR\x06\x65rrors:.\x92\x41+\n)*\x19Portfolio status response\xd2\x01\x0btask_status\"N\n\x1aPortfolioQuotaInfoResponse\x12\x12\n\x04used\x18\x01 \x01(\x03R\x04used\x12\x1c\n\tremaining\x18\x02 \x01(\x03R\tremaining*\xc1\x01\n\nTaskStatus\x12\x1b\n\x17TASK_STATUS_UNSPECIFIED\x10\x00\x12\x17\n\x13TASK_STATUS_PENDING\x10\x01\x12\x18\n\x14TASK_STATUS_COMPLETE\x10\x02\x12\x15\n\x11TASK_STATUS_ERROR\x10\x03\x12\x1b\n\x17TASK_STATUS_IN_PROGRESS\x10\x04\x12\x17\n\x13TASK_STATUS_EXPIRED\x10\x05\x12\x16\n\x12TASK_STATUS_QUEUED\x10\x06\x32\xff\t\n\x10PortfolioService\x12\xb0\x04\n\x13\x43reatePortfolioTask\x12%.portfolio.CreatePortfolioTaskRequest\x1a&.portfolio.CreatePortfolioTaskResponse\"\xc9\x03\x82\xd3\xe4\x93\x02\x13\"\x0e/v1/portfolios:\x01*\x92\x41\xac\x03J\xc5\x01\n\x03\x32\x30\x30\x12\xbd\x01\n\x18\x43reated task succesfully\x12*\n(\x1a&.portfolio.CreatePortfolioTaskResponse\"u\n\x10\x61pplication/json\x12\x61{\"taskId\": \"59acb604-6c65-45e5-acc2-2561b17e1d6f\", \"uploadUrl\": \"https://example.com/upload.csv\"}Jo\n\x03\x34\x30\x30\x12h\n\x11Invalid task spec\x12\x16\n\x14\x1a\x12.google.rpc.Status\";\n\x10\x61pplication/json\x12\'{\"code\":3,\"message\":\"No layers passed\"}Jq\n\x07\x64\x65\x66\x61ult\x12\x66\n\x0bOther error\x12\x16\n\x14\x1a\x12.google.rpc.Status\"?\n\x10\x61pplication/json\x12+{\"code\":13,\"message\":\"Error querying data\"}\x12\xc7\x04\n\x16GetPortfolioTaskStatus\x12!.portfolio.PortfolioStatusRequest\x1a\".portfolio.PortfolioStatusResponse\"\xe5\x03\x82\xd3\xe4\x93\x02\x1a\x12\x18/v1/portfolios/{task_id}\x92\x41\xc1\x03J\x9d\x01\n\x03\x32\x30\x30\x12\x95\x01\n\x08Got task\x12&\n$\x1a\".portfolio.PortfolioStatusResponse\"a\n\x10\x61pplication/json\x12M{\"taskStatus\": \"COMPLETE\", \"downloadUrl\": \"https://example.com/download.csv\"}J\xab\x01\n\x03\x34\x30\x30\x12\xa3\x01\n\x15\x45rror processing task\x12&\n$\x1a\".portfolio.PortfolioStatusResponse\"b\n\x10\x61pplication/json\x12N{\"taskStatus\": \"ERROR\", \"errors\": [\"there was an error processing the input\"]}Jq\n\x07\x64\x65\x66\x61ult\x12\x66\n\x0bOther error\x12\x16\n\x14\x1a\x12.google.rpc.Status\"?\n\x10\x61pplication/json\x12+{\"code\":13,\"message\":\"Error querying data\"}\x12n\n\x15GetPortfolioQuotaInfo\x12\x16.google.protobuf.Empty\x1a%.portfolio.PortfolioQuotaInfoResponse\"\x16\x82\xd3\xe4\x93\x02\x10\x12\x0e/v1/portfoliosB.Z,github.com/fathom-global/api/proto/portfoliob\x06proto3')
 
 _builder.BuildMessageAndEnumDescriptors(DESCRIPTOR, globals())
 _builder.BuildTopDescriptorsAndMessages(DESCRIPTOR, 'proto.portfolio.portfolio_pb2', globals())
 if _descriptor._USE_C_DESCRIPTORS == False:
 
   DESCRIPTOR._options = None
   DESCRIPTOR._serialized_options = b'Z,github.com/fathom-global/api/proto/portfolio'
+  _CREATEPORTFOLIOTASKREQUEST_METADATAENTRY._options = None
+  _CREATEPORTFOLIOTASKREQUEST_METADATAENTRY._serialized_options = b'8\001'
   _CREATEPORTFOLIOTASKREQUEST.fields_by_name['layer_ids']._options = None
   _CREATEPORTFOLIOTASKREQUEST.fields_by_name['layer_ids']._serialized_options = b'\372B\007\222\001\004\010\001\020('
   _CREATEPORTFOLIOTASKREQUEST._options = None
   _CREATEPORTFOLIOTASKREQUEST._serialized_options = b'\222A\303\002\n(*\032Portfolio creation request\322\001\tlayer_ids2\226\002{\"layerIds\": [\"GLOBAL-1ARCSEC-00_OFFSET-1in10-PLUVIAL-DEFENDED-DEPTH-2020-PERCENTILE50-v0.0.0_test\", \"GLOBAL-1ARCSEC-00_OFFSET-1in100-PLUVIAL-DEFENDED-DEPTH-2020-PERCENTILE50-v0.0.0_test\", \"GLOBAL-1_3ARCSEC-00_OFFSET-1in10-PLUVIAL-DEFENDED-DEPTH-2020-PERCENTILE50-v0.0.0_test\"]}'
   _CREATEPORTFOLIOTASKRESPONSE._options = None
   _CREATEPORTFOLIOTASKRESPONSE._serialized_options = b'\222A6\n4*\033Portfolio creation response\322\001\007task_id\322\001\nupload_url'
   _PORTFOLIOSTATUSREQUEST.fields_by_name['task_id']._options = None
@@ -35,19 +38,27 @@
   _PORTFOLIOSTATUSREQUEST._options = None
   _PORTFOLIOSTATUSREQUEST._serialized_options = b'\222A&\n$*\030Portfolio status request\322\001\007task_id'
   _PORTFOLIOSTATUSRESPONSE._options = None
   _PORTFOLIOSTATUSRESPONSE._serialized_options = b'\222A+\n)*\031Portfolio status response\322\001\013task_status'
   _PORTFOLIOSERVICE.methods_by_name['CreatePortfolioTask']._options = None
   _PORTFOLIOSERVICE.methods_by_name['CreatePortfolioTask']._serialized_options = b'\202\323\344\223\002\023\"\016/v1/portfolios:\001*\222A\254\003J\305\001\n\003200\022\275\001\n\030Created task succesfully\022*\n(\032&.portfolio.CreatePortfolioTaskResponse\"u\n\020application/json\022a{\"taskId\": \"59acb604-6c65-45e5-acc2-2561b17e1d6f\", \"uploadUrl\": \"https://example.com/upload.csv\"}Jo\n\003400\022h\n\021Invalid task spec\022\026\n\024\032\022.google.rpc.Status\";\n\020application/json\022\'{\"code\":3,\"message\":\"No layers passed\"}Jq\n\007default\022f\n\013Other error\022\026\n\024\032\022.google.rpc.Status\"?\n\020application/json\022+{\"code\":13,\"message\":\"Error querying data\"}'
   _PORTFOLIOSERVICE.methods_by_name['GetPortfolioTaskStatus']._options = None
-  _PORTFOLIOSERVICE.methods_by_name['GetPortfolioTaskStatus']._serialized_options = b'\202\323\344\223\002\020\022\016/v1/portfolios\222A\301\003J\235\001\n\003200\022\225\001\n\010Got task\022&\n$\032\".portfolio.PortfolioStatusResponse\"a\n\020application/json\022M{\"taskStatus\": \"COMPLETE\", \"downloadUrl\": \"https://example.com/download.csv\"}J\253\001\n\003400\022\243\001\n\025Error processing task\022&\n$\032\".portfolio.PortfolioStatusResponse\"b\n\020application/json\022N{\"taskStatus\": \"ERROR\", \"errors\": [\"there was an error processing the input\"]}Jq\n\007default\022f\n\013Other error\022\026\n\024\032\022.google.rpc.Status\"?\n\020application/json\022+{\"code\":13,\"message\":\"Error querying data\"}'
-  _CREATEPORTFOLIOTASKREQUEST._serialized_start=150
-  _CREATEPORTFOLIOTASKREQUEST._serialized_end=549
-  _CREATEPORTFOLIOTASKRESPONSE._serialized_start=552
-  _CREATEPORTFOLIOTASKRESPONSE._serialized_end=696
-  _PORTFOLIOSTATUSREQUEST._serialized_start=698
-  _PORTFOLIOSTATUSREQUEST._serialized_end=800
-  _PORTFOLIOSTATUSRESPONSE._serialized_start=803
-  _PORTFOLIOSTATUSRESPONSE._serialized_end=968
-  _PORTFOLIOSERVICE._serialized_start=971
-  _PORTFOLIOSERVICE._serialized_end=2128
+  _PORTFOLIOSERVICE.methods_by_name['GetPortfolioTaskStatus']._serialized_options = b'\202\323\344\223\002\032\022\030/v1/portfolios/{task_id}\222A\301\003J\235\001\n\003200\022\225\001\n\010Got task\022&\n$\032\".portfolio.PortfolioStatusResponse\"a\n\020application/json\022M{\"taskStatus\": \"COMPLETE\", \"downloadUrl\": \"https://example.com/download.csv\"}J\253\001\n\003400\022\243\001\n\025Error processing task\022&\n$\032\".portfolio.PortfolioStatusResponse\"b\n\020application/json\022N{\"taskStatus\": \"ERROR\", \"errors\": [\"there was an error processing the input\"]}Jq\n\007default\022f\n\013Other error\022\026\n\024\032\022.google.rpc.Status\"?\n\020application/json\022+{\"code\":13,\"message\":\"Error querying data\"}'
+  _PORTFOLIOSERVICE.methods_by_name['GetPortfolioQuotaInfo']._options = None
+  _PORTFOLIOSERVICE.methods_by_name['GetPortfolioQuotaInfo']._serialized_options = b'\202\323\344\223\002\020\022\016/v1/portfolios'
+  _TASKSTATUS._serialized_start=1245
+  _TASKSTATUS._serialized_end=1438
+  _CREATEPORTFOLIOTASKREQUEST._serialized_start=179
+  _CREATEPORTFOLIOTASKREQUEST._serialized_end=720
+  _CREATEPORTFOLIOTASKREQUEST_METADATAENTRY._serialized_start=331
+  _CREATEPORTFOLIOTASKREQUEST_METADATAENTRY._serialized_end=390
+  _CREATEPORTFOLIOTASKRESPONSE._serialized_start=723
+  _CREATEPORTFOLIOTASKRESPONSE._serialized_end=867
+  _PORTFOLIOSTATUSREQUEST._serialized_start=869
+  _PORTFOLIOSTATUSREQUEST._serialized_end=971
+  _PORTFOLIOSTATUSRESPONSE._serialized_start=974
+  _PORTFOLIOSTATUSRESPONSE._serialized_end=1162
+  _PORTFOLIOQUOTAINFORESPONSE._serialized_start=1164
+  _PORTFOLIOQUOTAINFORESPONSE._serialized_end=1242
+  _PORTFOLIOSERVICE._serialized_start=1441
+  _PORTFOLIOSERVICE._serialized_end=2720
 # @@protoc_insertion_point(module_scope)
```

## proto/portfolio/portfolio_pb2.pyi

```diff
@@ -1,39 +1,68 @@
 from google.api import annotations_pb2 as _annotations_pb2
+from google.protobuf import empty_pb2 as _empty_pb2
 from protoc_gen_openapiv2.options import annotations_pb2 as _annotations_pb2
 from validate import validate_pb2 as _validate_pb2
 from google.protobuf.internal import containers as _containers
+from google.protobuf.internal import enum_type_wrapper as _enum_type_wrapper
 from google.protobuf import descriptor as _descriptor
 from google.protobuf import message as _message
-from typing import ClassVar, Iterable, Optional, Text
+from typing import ClassVar, Iterable, Mapping, Optional, Text, Union
 
 DESCRIPTOR: _descriptor.FileDescriptor
+TASK_STATUS_COMPLETE: TaskStatus
+TASK_STATUS_ERROR: TaskStatus
+TASK_STATUS_EXPIRED: TaskStatus
+TASK_STATUS_IN_PROGRESS: TaskStatus
+TASK_STATUS_PENDING: TaskStatus
+TASK_STATUS_QUEUED: TaskStatus
+TASK_STATUS_UNSPECIFIED: TaskStatus
 
 class CreatePortfolioTaskRequest(_message.Message):
-    __slots__ = ["layer_ids"]
+    __slots__ = ["layer_ids", "metadata"]
+    class MetadataEntry(_message.Message):
+        __slots__ = ["key", "value"]
+        KEY_FIELD_NUMBER: ClassVar[int]
+        VALUE_FIELD_NUMBER: ClassVar[int]
+        key: str
+        value: str
+        def __init__(self, key: Optional[str] = ..., value: Optional[str] = ...) -> None: ...
     LAYER_IDS_FIELD_NUMBER: ClassVar[int]
+    METADATA_FIELD_NUMBER: ClassVar[int]
     layer_ids: _containers.RepeatedScalarFieldContainer[str]
-    def __init__(self, layer_ids: Optional[Iterable[str]] = ...) -> None: ...
+    metadata: _containers.ScalarMap[str, str]
+    def __init__(self, layer_ids: Optional[Iterable[str]] = ..., metadata: Optional[Mapping[str, str]] = ...) -> None: ...
 
 class CreatePortfolioTaskResponse(_message.Message):
     __slots__ = ["task_id", "upload_url"]
     TASK_ID_FIELD_NUMBER: ClassVar[int]
     UPLOAD_URL_FIELD_NUMBER: ClassVar[int]
     task_id: str
     upload_url: str
     def __init__(self, task_id: Optional[str] = ..., upload_url: Optional[str] = ...) -> None: ...
 
+class PortfolioQuotaInfoResponse(_message.Message):
+    __slots__ = ["remaining", "used"]
+    REMAINING_FIELD_NUMBER: ClassVar[int]
+    USED_FIELD_NUMBER: ClassVar[int]
+    remaining: int
+    used: int
+    def __init__(self, used: Optional[int] = ..., remaining: Optional[int] = ...) -> None: ...
+
 class PortfolioStatusRequest(_message.Message):
     __slots__ = ["task_id"]
     TASK_ID_FIELD_NUMBER: ClassVar[int]
     task_id: str
     def __init__(self, task_id: Optional[str] = ...) -> None: ...
 
 class PortfolioStatusResponse(_message.Message):
     __slots__ = ["download_url", "errors", "task_status"]
     DOWNLOAD_URL_FIELD_NUMBER: ClassVar[int]
     ERRORS_FIELD_NUMBER: ClassVar[int]
     TASK_STATUS_FIELD_NUMBER: ClassVar[int]
     download_url: str
     errors: _containers.RepeatedScalarFieldContainer[str]
-    task_status: str
-    def __init__(self, task_status: Optional[str] = ..., download_url: Optional[str] = ..., errors: Optional[Iterable[str]] = ...) -> None: ...
+    task_status: TaskStatus
+    def __init__(self, task_status: Optional[Union[TaskStatus, str]] = ..., download_url: Optional[str] = ..., errors: Optional[Iterable[str]] = ...) -> None: ...
+
+class TaskStatus(int, metaclass=_enum_type_wrapper.EnumTypeWrapper):
+    __slots__ = []
```

## proto/portfolio/portfolio_pb2_grpc.py

```diff
@@ -1,11 +1,12 @@
 # Generated by the gRPC Python protocol compiler plugin. DO NOT EDIT!
 """Client and server classes corresponding to protobuf-defined services."""
 import grpc
 
+from google.protobuf import empty_pb2 as google_dot_protobuf_dot_empty__pb2
 from proto.portfolio import portfolio_pb2 as proto_dot_portfolio_dot_portfolio__pb2
 
 
 class PortfolioServiceStub(object):
     """Missing associated documentation comment in .proto file."""
 
     def __init__(self, channel):
@@ -20,14 +21,19 @@
                 response_deserializer=proto_dot_portfolio_dot_portfolio__pb2.CreatePortfolioTaskResponse.FromString,
                 )
         self.GetPortfolioTaskStatus = channel.unary_unary(
                 '/portfolio.PortfolioService/GetPortfolioTaskStatus',
                 request_serializer=proto_dot_portfolio_dot_portfolio__pb2.PortfolioStatusRequest.SerializeToString,
                 response_deserializer=proto_dot_portfolio_dot_portfolio__pb2.PortfolioStatusResponse.FromString,
                 )
+        self.GetPortfolioQuotaInfo = channel.unary_unary(
+                '/portfolio.PortfolioService/GetPortfolioQuotaInfo',
+                request_serializer=google_dot_protobuf_dot_empty__pb2.Empty.SerializeToString,
+                response_deserializer=proto_dot_portfolio_dot_portfolio__pb2.PortfolioQuotaInfoResponse.FromString,
+                )
 
 
 class PortfolioServiceServicer(object):
     """Missing associated documentation comment in .proto file."""
 
     def CreatePortfolioTask(self, request, context):
         """Missing associated documentation comment in .proto file."""
@@ -37,27 +43,38 @@
 
     def GetPortfolioTaskStatus(self, request, context):
         """Missing associated documentation comment in .proto file."""
         context.set_code(grpc.StatusCode.UNIMPLEMENTED)
         context.set_details('Method not implemented!')
         raise NotImplementedError('Method not implemented!')
 
+    def GetPortfolioQuotaInfo(self, request, context):
+        """Missing associated documentation comment in .proto file."""
+        context.set_code(grpc.StatusCode.UNIMPLEMENTED)
+        context.set_details('Method not implemented!')
+        raise NotImplementedError('Method not implemented!')
+
 
 def add_PortfolioServiceServicer_to_server(servicer, server):
     rpc_method_handlers = {
             'CreatePortfolioTask': grpc.unary_unary_rpc_method_handler(
                     servicer.CreatePortfolioTask,
                     request_deserializer=proto_dot_portfolio_dot_portfolio__pb2.CreatePortfolioTaskRequest.FromString,
                     response_serializer=proto_dot_portfolio_dot_portfolio__pb2.CreatePortfolioTaskResponse.SerializeToString,
             ),
             'GetPortfolioTaskStatus': grpc.unary_unary_rpc_method_handler(
                     servicer.GetPortfolioTaskStatus,
                     request_deserializer=proto_dot_portfolio_dot_portfolio__pb2.PortfolioStatusRequest.FromString,
                     response_serializer=proto_dot_portfolio_dot_portfolio__pb2.PortfolioStatusResponse.SerializeToString,
             ),
+            'GetPortfolioQuotaInfo': grpc.unary_unary_rpc_method_handler(
+                    servicer.GetPortfolioQuotaInfo,
+                    request_deserializer=google_dot_protobuf_dot_empty__pb2.Empty.FromString,
+                    response_serializer=proto_dot_portfolio_dot_portfolio__pb2.PortfolioQuotaInfoResponse.SerializeToString,
+            ),
     }
     generic_handler = grpc.method_handlers_generic_handler(
             'portfolio.PortfolioService', rpc_method_handlers)
     server.add_generic_rpc_handlers((generic_handler,))
 
 
  # This class is part of an EXPERIMENTAL API.
@@ -93,7 +110,24 @@
             timeout=None,
             metadata=None):
         return grpc.experimental.unary_unary(request, target, '/portfolio.PortfolioService/GetPortfolioTaskStatus',
             proto_dot_portfolio_dot_portfolio__pb2.PortfolioStatusRequest.SerializeToString,
             proto_dot_portfolio_dot_portfolio__pb2.PortfolioStatusResponse.FromString,
             options, channel_credentials,
             insecure, call_credentials, compression, wait_for_ready, timeout, metadata)
+
+    @staticmethod
+    def GetPortfolioQuotaInfo(request,
+            target,
+            options=(),
+            channel_credentials=None,
+            call_credentials=None,
+            insecure=False,
+            compression=None,
+            wait_for_ready=None,
+            timeout=None,
+            metadata=None):
+        return grpc.experimental.unary_unary(request, target, '/portfolio.PortfolioService/GetPortfolioQuotaInfo',
+            google_dot_protobuf_dot_empty__pb2.Empty.SerializeToString,
+            proto_dot_portfolio_dot_portfolio__pb2.PortfolioQuotaInfoResponse.FromString,
+            options, channel_credentials,
+            insecure, call_credentials, compression, wait_for_ready, timeout, metadata)
```

## Comparing `fathom_global_client_sdk-0.2.0rc1.dist-info/METADATA` & `fathom_global_client_sdk-0.3.0.dist-info/METADATA`

 * *Files 18% similar despite different names*

```diff
@@ -5,61 +5,65 @@
 Description-Content-Type: text/markdown
 Classifier: Development Status :: 5 - Production/Stable
 Classifier: Intended Audience :: Developers
 Classifier: Programming Language :: Python :: 3
 Requires-Dist: protoc-gen-validate==0.10.1
 Requires-Dist: googleapis-common-protos==1.56.2
 Requires-Dist: grpcio==1.50.0
-Version: 0.2.0rc1
+Requires-Dist: requests>=2,<3
+Version: 0.3.0
 
 # Fathom Python SDK client
 
 The Python SDK client for communicating with the Fathom API
 
 Example usage:
 
 [//]: # "Example is expanded below"
 ```python
 """An example usage of the Fathom API client."""
 import os
 
-from fathom import Client, point, points, simple_polygon
+from fathom import Client, point, points, simple_polygon, write_tiffs
 
 if __name__ == "__main__":
     client = Client(
         os.getenv("FATHOM_CLIENT_ID"),
         os.getenv("FATHOM_CLIENT_SECRET"),
         os.getenv("FATHOM_API_ADDR"),
     )
 
     layer_ids = [
         "GLOBAL-1ARCSEC-00_OFFSET-1in10-PLUVIAL-DEFENDED-DEPTH-2020-PERCENTILE50-v0.0.0_test",
         "GLOBAL-1ARCSEC-00_OFFSET-1in100-PLUVIAL-DEFENDED-DEPTH-2020-PERCENTILE50-v0.0.0_test",
     ]
 
+    # Get from points
     pt = point(lat=50.8162643, lng=-1.1081944)
-    client.get_points(points([pt]), layer_ids)
+    points_response = client.get_points(points([pt]), layer_ids)
 
+    # Or using a polygon
     poly = simple_polygon(
         [
             point(52.41, -1.52),
             point(52.4, -1.52),
             point(52.4, -1.5),
             point(52.41, -1.5),
             point(52.41, -1.52),
         ]
     )
-    results = client.get_polygon(poly, layer_ids).results
-    for layer_id, data in results.items():
-        for geotiff in data.polygons.geo_tiffs:
-            f = open(layer_id + ".tif", "wb")
-            f.write(geotiff)
-            f.close()
-
-    results = client.get_with_shapefile(shapefile, layer_ids).results
-    for layer_id, data in results.items():
-        for geotiff in data.polygons.geo_tiffs:
-            f = open(layer_id + ".tif", "wb")
-            f.write(geotiff)
-            f.close()
+    polygon_response = client.get_polygon(poly, layer_ids)
+    write_tiffs(
+        polygon_response,
+        output_dir,
+    )
+
+    # Or from a shape file
+    shapefile_response = client.get_with_shapefile(shapefile, layer_ids)
+
+    # Note: only applicable if the shapefile contains a polygon
+    # write_tiffs(
+    #     shapefile_response,
+    #     output_dir,
+    # )
 ```
```

